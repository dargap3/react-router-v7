(function(g){var window=this;'use strict';var tT=function(a){a.publish("cardstatechange",a.yy()&&a.Xg()?1:0)},eW=function(a,l){var m=g.lV(l),T=m?l:arguments;
for(m=m?0:1;m<T.length;m++){if(a==null)return;a=a[T[m]]}return a},xwB=function(a){var l=g.ui(a);
a=g.Uh(a);return new g.Jq(l.x,l.y,a.width,a.height)},Dwc=function(a,l,m){var T=T===void 0?{}:T;
var y;return y=g.eb(a,l,function(){g.FY(y);m.apply(a,arguments)},T)},OT=function(a){a=g.y5(a);
delete FD[a];g.rg(FD)&&hT&&hT.stop()},XIn=function(){hT||(hT=new g.aH(function(){uls()},20));
var a=hT;a.isActive()||a.start()},uls=function(){var a=g.bV();
g.wg(FD,function(l){Y0c(l,a)});
g.rg(FD)||XIn()},K4=function(a,l,m,T){g.Pb.call(this);
if(!Array.isArray(a)||!Array.isArray(l))throw Error("Start and end parameters must be arrays");if(a.length!=l.length)throw Error("Start and end points must be the same length");this.L=a;this.B=l;this.duration=m;this.K=T;this.coords=[];this.progress=this.C=0;this.j=null},Y0c=function(a,l){l<a.startTime&&(a.endTime=l+a.endTime-a.startTime,a.startTime=l);
a.progress=(l-a.startTime)/(a.endTime-a.startTime);a.progress>1&&(a.progress=1);a.C=1E3/(l-a.j);a.j=l;Uwd(a,a.progress);a.progress==1?(a.T=0,OT(a),a.onFinish(),a.ue()):a.isPlaying()&&a.Bf()},Uwd=function(a,l){typeof a.K==="function"&&(l=a.K(l));
a.coords=Array(a.L.length);for(var m=0;m<a.L.length;m++)a.coords[m]=(a.B[m]-a.L[m])*l+a.L[m]},rdg=function(a,l){g.ak.call(this,a);
this.coords=l.coords;this.x=l.coords[0];this.y=l.coords[1];this.z=l.coords[2];this.duration=l.duration;this.progress=l.progress;this.fps=l.C;this.state=l.T},zk=function(a,l,m,T,y){K4.call(this,l,m,T,y);
this.element=a},aUr=function(a,l,m,T,y){if(l.length!=2||m.length!=2)throw Error("Start and end points must be 2D");
zk.call(this,a,l,m,T,y)},lUg=function(a){return Math.pow(a,3)},mLB=function(a){return 3*a*a-2*a*a*a},TrX=function(a){g.k.call(this);
this.L=a||window;this.T=[]},vo=function(a){return a.baseUrl||null},$s=function(a,l){return g.BN(g.xX(a,l),function(m){return!!m})},yr_=function(a,l,m){function T(H5){var ad=H5.hovercardButton;
if(!ad)return null;ad=ad.subscribeButtonRenderer;if(!ad)return null;var Md=R(ad.unsubscribedButtonText),U=R(ad.subscribedButtonText);if(ad.subscribed){var Nd=R(ad.subscriberCountWithUnsubscribeText);var hz=R(ad.subscriberCountText)}else Nd=R(ad.subscriberCountText),hz=R(ad.subscriberCountWithSubscribeText);var EQ=null;if(H5.signinEndpoint){EQ=eW(H5,"signinEndpoint","webNavigationEndpointData","url");if(!EQ){var ec,MF;EQ=(MF=g.I((ec=ad.signInEndpoint)==null?void 0:ec.commandMetadata,g.ZJ))==null?void 0:
MF.url}if(!EQ)return null}return Md&&(U||EQ)?{subscribed:ad.subscribed,subscribeText:Md,subscribeCount:Nd,unsubscribeText:U,unsubscribeCount:hz,enabled:ad.enabled,signinUrl:EQ,classic:H5.useClassicSubscribeButton}:null}
function y(H5){if(H5){var ad=[],Md=H5.videoId;Md&&ad.push("v="+Md);(Md=H5.playlistId)&&ad.push("list="+Md);(H5=H5.startTimeSeconds)&&ad.push("t="+H5);return"/watch?"+ad.join("&")}}
function R(H5){if(!H5)return null;var ad=H5.simpleText;return ad?ad:H5.runs?g.xX(H5.runs,function(Md){return Md.text}).join(""):null}
l=l.endscreenElementRenderer;if(!l)return null;var H=l.style,b=l.endpoint||{},M=null,d=null,A=!1,P=null,G=null,V=null,p=null,L=!1,N=null,e=null,t=null,v=null,S=null,n=null;if(H==="VIDEO")g.I(b,g.I8)?M=g.I(b,g.I8).url:(n=g.I(b,g.m3),M=y(n)),d=!1,P=a,l.thumbnailOverlays?(A=l.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,G=R(A.text),A=A.style==="LIVE"):G=R(l.videoDuration);else if(H==="PLAYLIST")g.I(b,g.I8)?M=g.I(b,g.I8).url:(n=g.I(b,g.m3),M=y(n)),d=!1,P=a,V=R(l.playlistLength);else if(H===
"CHANNEL"){if(L=eW(b,"browseEndpoint","browseId"))p=L,M="/channel/"+p;d=!1;P="new";(L=!!l.isSubscribe)?N=T(l):e=R(l.subscribersText)}else H==="WEBSITE"?((t=eW(b,"urlEndpoint","url"))&&(M=t),d=!0,P="new",t=l.icon.thumbnails[0].url):H==="CREATOR_MERCHANDISE"&&(l.productPrice&&(v=R(l.productPrice)),l.additionalFeesText&&(S=R(l.additionalFeesText)),(d=eW(b,"urlEndpoint","url"))&&(M=d),d=!0,P="new");a=eW(l,"title","accessibility","accessibilityData","label");var X=l.endpoint?l.endpoint.clickTrackingParams:
null,D="";if(l.metadata){var yp=R(l.metadata);yp&&(D=yp)}return{id:"element-"+m,type:H,title:R(l.title),metadata:D,callToAction:R(l.callToAction),w8:l.image,iconUrl:t,left:Number(l.left),width:Number(l.width),top:Number(l.top),aspectRatio:Number(l.aspectRatio),startMs:Math.floor(Number(l.startMs)),endMs:Math.floor(Number(l.endMs)),videoDuration:G,Yy:A,playlistLength:V,channelId:p,subscribeButton:N,subscribersText:e,isSubscribe:L,targetUrl:M||null,xo:d,sessionData:X?{itct:X}:null,FAL:P,gI:a?a:null,
isPlaceholder:l.isPlaceholder,impressionUrls:$s(l.impressionUrls||[],vo),UT:$s(l.hovercardShowUrls||[],vo),clickUrls:$s(b.loggingUrls||[],vo),visualElement:g.Fd(l.trackingParams),productPrice:v,additionalFeesText:S,watchEndpoint:n||null}},RBd=function(a,l){var m={startMs:Math.floor(Number(a.startMs)),
impressionUrls:$s(a.impressionUrls||[],vo),elements:$s(a.elements||[],function(T,y){return yr_(l,T,y)})};
a.trackingParams&&(m.visualElement=g.Fd(a.trackingParams));return m},HVV=function(a){g.P3.call(this,a);
this.j=this.endscreen=null;this.L={};this.C={};this.K=this.Z=null;this.J=[];this.T=null;this.Ij=!0;this.B=0;a=a.Y();this.N=g.BS(a)||g.nR(a);this.events=new g.BT(this);g.w(this,this.events);this.events.W(this.player,g.qm("creatorendscreen"),this.onCueRangeEnter);this.events.W(this.player,g.bl("creatorendscreen"),this.onCueRangeExit);this.events.W(this.player,"resize",this.Mt);this.events.W(window,"focus",this.xIz);this.load();var l=g.lK("STYLE");(g.oM("HEAD")[0]||document.body).appendChild(l);this.addOnDisposeCallback(function(){g.HI(l)});
l.sheet&&(l.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),l.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},qeF=function(a){return a.player.getVideoData().Rh?"current":a.N?"new":"current"},sT=function(a){return a.player.Y().playerStyle==="creator-endscreen-editor"},bVF=function(a){var l=a.player.getVideoData(),m=l.videoId;
a.j&&a.j.abort();m={method:"POST",onFinish:function(y){var R=a.j=null;y.status===200&&(y=y.responseText,y.substring(0,3)===")]}"&&(y=y.substring(3),R=JSON.parse(y),R=RBd(R,qeF(a))));SW(a,R)},
urlParams:{v:m},withCredentials:!0};a.N&&(m.urlParams.ptype="embedded");var T=l.P9;T&&(m.postParams={ad_tracking:T});if(l=g.GYR(l))if(l=g.XG(l),l=g.oV(l))a.j=g.OZ(l,m)},SW=function(a,l,m){m=m===void 0?!0:m;
a.player.FJ("creatorendscreen");a.Z&&(a.Z.dispose(),a.Z=null,a.K.dispose(),a.K=null);for(var T=g.c(Object.values(a.L)),y=T.next();!y.done;y=T.next())y.value.dispose();a.L={};a.C={};a.J.length>0&&(a.J.forEach(function(b){b.dispose()}),a.J.length=0);
a.T&&(g.dK(a.T,"ytp-ce-element-show"),a.T.setAttribute("aria-hidden","true"));a.B=0;if((a.endscreen=l)&&l.elements){m&&gF9(a);m=[];T=new g.Rq(l.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});m.push(T);a.player.Y().L||(a.Z=new g.x({U:"div",S:"ytp-ce-shadow"}),g.fq(a.player,a.Z.element,4),a.K=new g.q4(a.Z,200));for(T=0;T<l.elements.length;++T){y=l.elements[T];var R=M9d(a,y);if(R){a.L[y.id]=R;a.C[y.id]=y;g.fq(a.player,R.element,4);var H=new g.Rq(y.startMs,y.endMs,{id:"ytp-ce-element-"+
y.id,namespace:"creatorendscreen"});m.push(H);iVB(a,R,y)}else g.nU(new g.YH("buildEndscreenElement null",y))}a.player.d7(m);a.Mt()}},gF9=function(a){var l=g.Os(),m=g.KU();
m&&l&&a.endscreen.visualElement&&g.me(g.rE)(void 0,m,l,a.endscreen.visualElement)},M9d=function(a,l){var m=null;
switch(l.type){case "VIDEO":a={U:"div",uT:["ytp-ce-element","ytp-ce-video"],G:{tabindex:"0","aria-label":l.gI||"","aria-hidden":"true"},X:[{U:"div",S:"ytp-ce-element-shadow"},{U:"div",S:"ytp-ce-covering-image",G:f4(l)},{U:"div",S:"ytp-ce-covering-shadow-top"},{U:"a",S:"ytp-ce-covering-overlay",G:{href:JT(a,l.targetUrl),tabindex:"-1"},X:[{U:"div",uT:["ytp-ce-video-title","ytp-webkit-ellipsis"],G:{dir:g.Wb(l.title||"")},Lx:l.title},{U:"div",S:l.Yy?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
Lx:l.videoDuration||void 0}]}]};m=new g.x(a);break;case "PLAYLIST":a={U:"div",uT:["ytp-ce-element","ytp-ce-playlist"],G:{tabindex:"0","aria-label":l.gI||"","aria-hidden":"true"},X:[{U:"div",S:"ytp-ce-element-shadow"},{U:"div",S:"ytp-ce-covering-image",G:f4(l)},{U:"div",S:"ytp-ce-covering-shadow-top"},{U:"a",S:"ytp-ce-covering-overlay",G:{href:JT(a,l.targetUrl),tabindex:"-1"},X:[{U:"div",uT:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],G:{dir:g.Wb(l.title||"")},Lx:l.title},{U:"div",S:"ytp-ce-playlist-count",
X:[{U:"div",S:"ytp-ce-playlist-icon"},{U:"div",S:"ytp-ce-playlist-count-text",Lx:l.playlistLength||void 0}]}]}]};m=new g.x(a);break;case "CHANNEL":m={U:"div",uT:["ytp-ce-element","ytp-ce-channel",l.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],G:{tabindex:"0","aria-label":l.gI||"","aria-hidden":"true"},X:[{U:"div",S:"ytp-ce-element-shadow"},{U:"div",S:"ytp-ce-expanding-overlay",X:[{U:"div",S:"ytp-ce-expanding-overlay-hider"},{U:"div",S:"ytp-ce-expanding-overlay-background"},{U:"div",S:"ytp-ce-expanding-overlay-content",
X:[{U:"div",S:"ytp-ce-expanding-overlay-body",X:[{U:"div",S:"ytp-ce-expanding-overlay-body-padding",X:[{U:"a",uT:["ytp-ce-channel-title","ytp-ce-link"],G:{href:JT(a,l.targetUrl),target:"_blank",tabindex:"-1",dir:g.Wb(l.title||"")},Lx:l.title},l.subscribeButton?{U:"div",S:"ytp-ce-subscribe-container",X:[{U:"div",S:"ytp-ce-channel-subscribe"}]}:"",l.subscribersText?{U:"div",S:"ytp-ce-channel-subscribers-text",Lx:l.subscribersText}:"",l.metadata?{U:"div",uT:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],Lx:l.metadata}:""]}]}]}]},{U:"div",S:"ytp-ce-expanding-image",G:f4(l)}]};m=new g.x(m);var T=g.D4(document,"div","ytp-ce-channel-subscribe",m.element)[0];if(l.subscribeButton&&l.channelId){g.M$(T,"ytp-ce-subscribe-button");if(a.player.Y().L){var y=null;var R=l.sessionData.itct}else y="endscreen",R=null;y=new g.ue(l.subscribeButton.subscribeText,l.subscribeButton.subscribeCount,l.subscribeButton.unsubscribeText,l.subscribeButton.unsubscribeCount,!!l.subscribeButton.enabled,!!l.subscribeButton.classic,
l.channelId,!!l.subscribeButton.subscribed,y,R,a.player,!1);T.appendChild(y.element);a.J.push(y)}break;case "WEBSITE":a={U:"div",uT:["ytp-ce-element","ytp-ce-website"],G:{tabindex:"0","aria-label":l.gI||"","aria-hidden":"true"},X:[{U:"div",S:"ytp-ce-element-shadow"},{U:"div",S:"ytp-ce-expanding-overlay",X:[{U:"div",S:"ytp-ce-expanding-overlay-hider"},{U:"div",S:"ytp-ce-expanding-overlay-background"},{U:"div",S:"ytp-ce-expanding-overlay-content",X:[{U:"div",S:"ytp-ce-expanding-overlay-body",X:[{U:"div",
S:"ytp-ce-expanding-overlay-body-padding",X:[{U:"div",S:"ytp-ce-website-title",G:{dir:g.Wb(l.title||"")},Lx:l.title},{U:"div",S:"ytp-ce-website-metadata",Lx:l.metadata},{U:"a",uT:["ytp-ce-website-goto","ytp-ce-link"],G:{href:JT(a,l.targetUrl),target:"_blank",tabindex:"-1"},Lx:l.callToAction}]}]}]}]},{U:"div",S:"ytp-ce-expanding-image",G:f4(l)},{U:"div",S:"ytp-ce-expanding-icon",G:dLI(l.iconUrl)}]};m=new g.x(a);break;case "CREATOR_MERCHANDISE":m="",l.productPrice&&(m={U:"div",S:"ytp-ce-merchandise-price-container",
X:[{U:"div",S:"ytp-ce-merchandise-price",Lx:l.productPrice}]},l.additionalFeesText&&m.X.push({U:"div",S:"ytp-ce-merchandise-additional-fees",Lx:l.additionalFeesText})),a={U:"div",uT:["ytp-ce-element","ytp-ce-merchandise"],G:{tabindex:"0","aria-label":l.gI||"","aria-hidden":"true"},X:[{U:"div",S:"ytp-ce-element-shadow"},{U:"div",S:"ytp-ce-expanding-overlay",X:[{U:"div",S:"ytp-ce-expanding-overlay-hider"},{U:"div",S:"ytp-ce-expanding-overlay-background"},{U:"div",S:"ytp-ce-expanding-overlay-content",
X:[{U:"div",S:"ytp-ce-expanding-overlay-body",X:[{U:"div",S:"ytp-ce-expanding-overlay-body-padding",X:[{U:"div",S:"ytp-ce-merchandise-title",G:{dir:g.Wb(l.title||"")},Lx:l.title},m,{U:"div",S:"ytp-ce-merchandise-metadata",Lx:l.metadata},{U:"a",uT:["ytp-ce-merchandise-goto","ytp-ce-link"],G:{href:JT(a,l.targetUrl),target:"_blank",tabindex:"-1"},Lx:l.callToAction}]}]}]}]},{U:"div",S:"ytp-ce-expanding-image",G:f4(l)},{U:"div",S:"ytp-ce-merchandise-invideo-cta-container",X:[{U:"div",S:"ytp-ce-merchandise-invideo-cta",
Lx:l.callToAction||void 0}]}]},m=new g.x(a)}l.isPlaceholder&&g.M$(m.element,"ytp-ce-placeholder");return m},f4=function(a){if(a.w8)var l=a.w8.thumbnails;
return dLI(l?l[l.length-1].url:null)},dLI=function(a){return a?{style:"background-image: url("+a+")"}:{}},iVB=function(a,l,m){function T(M){M&&(l.listen("blur",function(){M.style.display!="none"&&a.Ij&&M.focus()}),l.W(M,"focus",R),l.W(M,"blur",H))}
function y(M){a.B+=M;a.B>0?(g.M$(l.element,"ytp-ce-force-expand"),Bo(a,m.id,!0)):(g.dK(l.element,"ytp-ce-force-expand"),g.dK(l.element,"ytp-ce-element-hover"),Bo(a,m.id,!1))}
function R(){y(1)}
function H(){y(-1)}
l.listen("mouseenter",function(){jlD(a,l,m)});
l.listen("mouseleave",function(){Ard(a,l,m)});
a.player.Y().L||l.listen("click",function(){g.M$(l.element,"ytp-ce-element-hover")});
l.listen("click",function(M){PJr(a,m,M)});
l.listen("keypress",function(M){PJr(a,m,M)});
l.listen("focus",function(){jlD(a,l,m)});
l.listen("blur",function(){Ard(a,l,m)});
l.listen("touchstart",function(){jlD(a,l,m)});
var b=g.ud("ytp-ce-expanding-overlay-hider",l.element);b&&l.W(b,"touchstart",function(M){M.stopPropagation();g.dK(l.element,"ytp-ce-element-hover");g.dK(l.element,"ytp-ce-force-expand")});
l.listen("keydown",function(M){a.Ij=M.keyCode===9&&!M.shiftKey});
T(g.ud("ytp-sb-subscribe",l.element));T(g.ud("ytp-sb-unsubscribe",l.element));l.listen("focus",R);l.listen("blur",H)},PJr=function(a,l,m){if(l.targetUrl&&(!m||m.type!=="keypress"||m.keyCode===13)){for(var T=m.target;T&&!g.gK(T,"ytp-ce-element");){g.gK(T,"subscribe-label")&&Gfc(a,l);
if(g.gK(T,"ytp-ce-channel-subscribe"))return;T=T.parentElement||null}if(!T||g.gK(T,"ytp-ce-element-hover")){m.preventDefault();m.stopPropagation();if(T=a.L[l.id])Ard(a,T,l),T.element.blur();if(m.ctrlKey||m.metaKey||l.FAL==="new")Gfc(a,l),a.player.sendVideoStatsEngageEvent(17,void 0),a.player.pauseVideo(),m=g.XG(JT(a,l.targetUrl)),m=g.oV(m),g.uG(m,void 0,l.sessionData);else{var y=g.aX(a.player.Y())||a.player.getVideoData().Rh,R=function(){var H=JT(a,l.targetUrl),b=l.sessionData,M=l.watchEndpoint,d=
g.br(H);y&&d&&(d.v||d.list)?a.player.zX(d.v,b,d.list,!1,void 0,M||void 0):g.Dc(H,b)};
Gfc(a,l,function(){a.player.sendVideoStatsEngageEvent(17,R)})}}}},JT=function(a,l){a=a.player.Y();
if(l){if(l.startsWith("//"))return a.protocol+":"+l;if(l.startsWith("/"))return g.qU(a)+l}else return"";return l},jlD=function(a,l,m){g.gK(l.element,"ytp-ce-element-hover")||(m.type==="VIDEO"||m.type==="PLAYLIST"?g.M$(l.element,"ytp-ce-element-hover"):a.player.Y().L?(new g.aH(function(){g.M$(l.element,"ytp-ce-element-hover")},200)).start():g.M$(l.element,"ytp-ce-element-hover"),ks(a,m.UT),Bo(a,m.id,!0))},Ard=function(a,l,m){g.dK(l.element,"ytp-ce-element-hover");
g.dK(l.element,"ytp-ce-force-expand");Bo(a,m.id,!1)},Bo=function(a,l,m){a.Z&&(m?a.K.show():a.K.hide());
for(var T=g.c(Object.keys(a.L)),y=T.next();!y.done;y=T.next())y=y.value,y!==l&&g.AM(a.L[y].element,"ytp-ce-element-shadow-show",m)},ks=function(a,l,m){function T(){R||(y++,y===l.length&&(H.stop(),m&&m()))}
if(!l||l.length===0||sT(a))m&&m();else{l=V9I(a,l);var y=0,R=!1,H=new g.aH(function(){R=!0;m&&m()},1E3,a);
H.start();for(a=0;a<l.length;a++)g.Ec(l[a],T)}},Gfc=function(a,l,m){ks(a,l.clickUrls,m);
(a=g.KU())&&l.xo&&g.iT(a,l.visualElement)},V9I=function(a,l){var m=a.player.getVideoData().clientPlaybackNonce;
a=a.player.getCurrentTime().toFixed(2);m={CPN:m,AD_CPN:m,MT:a};a=[];for(var T=0;T<l.length;T++)a.push(pAD(l[T],m));return a},pAD=function(a,l){return a.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(m){var T=unescape(m);
T=T.substring(1,T.length-1);return l[T]?escape(l[T]):m})},ZVI=function(a){return typeof a==="string"?a:""},n4=function(a,l,m){for(var T in l)if(l[T]===a)return a;
return m},WLg=function(a,l,m,T){this.value=a;
this.target=l;this.showLinkIcon=m;this.T=T},wL=function(a){return a.value?a.value:null},IQ=function(a){if(!a)return null;
var l=g.XG(ZVI(a.value));l=g.oV(l);if(!l)return null;var m=n4(a.target,cr_,"current");if(m==null)a=null;else{var T=a.show_link_icon;a=new WLg(l,m,T==="true"||T==="false"?T==="true":!0,a.pause_on_navigation!=null?a.pause_on_navigation:!0)}return a},LLB=function(a,l,m){this.type=a;
this.trigger=l;this.url=m},t9_=function(a){if(!a)return null;
var l=n4(a.type,Nr_),m=n4(a.trigger,QlX);a=a.url;a=Array.isArray(a)&&a.length?a[0]:a;a=IQ(a?a:null);return l?new LLB(l,m,a):null},eBD=function(a,l,m,T,y){this.id=a;
this.type=l;this.style=m;this.data=y;this.action=T||[]},FLc=function(a,l){return g.Pn(a.action,l)},hBs=function(a,l){this.context=a;
this.T=l},OVV=function(a){return a.customMessage?C4("div","iv-card-message",a.customMessage):""},ET=function(a,l){a="background-image: url("+a+");";
var m=[];l&&m.push(l);return{U:"div",S:"iv-card-image",G:{style:a},X:m}},KLn=function(a){if(!a.metaInfo||a.metaInfo.length===0)return"";
var l=[];a=g.c(a.metaInfo);for(var m=a.next();!m.done;m=a.next())l.push(C4("li","",m.value));return{U:"ul",S:"iv-card-meta-info",X:l}},C4=function(a,l,m){l?typeof l==="string"?l={"class":l}:Array.isArray(l)&&(l={"class":l.join(" ")}):l={};
l.dir=g.Wb(m);return{U:a,G:l,Lx:m}},zBD=function(a){if(!a.customMessage)return"";
var l=["iv-card-action","iv-card-primary-link"],m={};a.Lb&&(l.push("iv-card-action-icon"),m.style="background-image: url("+a.Lb+");");m.dir=g.Wb(a.customMessage);var T=[{U:"span",Lx:a.customMessage}];a.showLinkIcon&&(T.push("\u00a0"),T.push({U:"span",S:"iv-card-link-icon"}));return{U:"div",uT:l,G:m,X:T}},oQ=function(a,l,m,T){if(T){l=g.c(l);
for(var y=l.next();!y.done;y=l.next())a.T(y.value,T,m.id,m.sessionData,m.s9.click,5)}},vFr=function(a,l){this.merchant=a;
this.price=l},$Ls=function(a){var l;
(l=a)&&!(l=a.length>1?a.charAt(0)==="/"&&a.charAt(1)!=="/":a==="/")&&(l=a.replace(/^(https?:)?\/\//,"").split("/",1),l=!l||l.length<1||!l[0]?[]:l[0].toLowerCase().split(".").reverse(),l=l[0]==="com"&&l[1]==="youtube"||l[0]==="be"&&l[1]==="youtu");return l?a.indexOf("/redirect?")===-1:!1},slB=function(a,l){return l?l:$Ls(a)?"current":"new"},xs=function(a,l){g.k.call(this);
var m=this;this.element=a;this.context=l;this.yg=!1;this.tM=new Map;this.Mj=new Map;this.context.D.addEventListener(g.qm("annotations_module"),function(T){(T=m.tM.get(T))&&T.apply(m)});
this.context.D.addEventListener(g.bl("annotations_module"),function(T){(T=m.Mj.get(T))&&T.apply(m)})},Du=function(a,l,m,T,y,R,H){a.context.T.listen(l,"click",function(b){a.b_(m,T,y,R||[],H||0,b)});
a.context.T.listen(l,"touchstart",function(){a.yg=!1});
a.context.T.listen(l,"touchmove",function(){a.yg=!0})},Se9=function(a){var l;
return((l=g.I(a,g.I8))==null?0:l.url)?g.I(a,g.I8).url:(a=g.I(a,g.m3))&&a.videoId?(l="/watch?v="+a.videoId,a.playlistId&&(l+="&list="+a.playlistId),a.index&&(l+="&index="+a.index),a.startTimeSeconds&&(l+="&t="+a.startTimeSeconds),l):null},uk=function(a,l,m){return{jO:(a.impressionLoggingUrlsV2s||[]).map(function(T){return T.baseUrl||""}),
click:(m.loggingUrls||[]).map(function(T){return T.baseUrl||""}),
close:(l.dismissLoggingUrlsV2s||[]).map(function(T){return T.baseUrl||""}),
E3:(l.impressionLoggingUrlsV2s||[]).map(function(T){return T.baseUrl||""}),
yv:(l.clickLoggingUrlsV2s||[]).map(function(T){return T.baseUrl||""})}},fUd=function(a,l,m){xs.call(this,l,m);
var T=this;this.D=a;this.eventId=null;this.ZR=this.Cx=this.uZ=this.Z=this.isInitialized=!1;this.cards=[];this.vF=this.J=this.Kx=this.K=this.St=this.T=null;this.Ij=[];this.lT=this.B=this.zt=this.hM=null;this.C=0;this.qj=new g.aH(function(){},m.aj.P4?4E3:3E3);
g.w(this,this.qj);this.rb=new g.aH(function(){});
g.w(this,this.rb);this.jt=new hBs(m,function(y,R,H,b,M,d){Du(T,y,R,H,b,M,d)});
this.N=new g.x({U:"div",S:"iv-drawer",G:{id:"iv-drawer"},X:[{U:"div",S:"iv-drawer-header",G:{"aria-role":"heading"},X:[{U:"span",S:"iv-drawer-header-text"},{U:"button",uT:["iv-drawer-close-button","ytp-button"],G:{"aria-label":"Ocultar tarjetas",tabindex:"0"}}]},{U:"div",S:"iv-drawer-content"}]});g.w(this,this.N);this.j=this.N.element;this.wb=new g.q4(this.N,330);g.w(this,this.wb);this.lZ=g.ud("iv-drawer-header-text",this.j);this.L=g.ud("iv-drawer-content",this.j);this.addCueRange(0,m.videoData.lengthSeconds*
1E3,"",function(){T.uZ&&XD(T,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(T.uZ=T.Z)&&Ys(T)});
this.AM=new g.BT(this);g.w(this,this.AM);this.D.addEventListener("videodatachange",this.xW.bind(this))},JrX=function(a,l){l=l.data;
l.autoOpenMs&&a.addCueRange(l.autoOpenMs,0x8000000000000,"",function(){XD(a,"YOUTUBE_DRAWER_AUTO_OPEN")});
l.autoCloseMs&&a.addCueRange(l.autoCloseMs,0x8000000000000,"",function(){Ys(a)});
var m=l.headerText;g.bK(a.lZ,m);a.J&&a.J.setAttribute("title",m);l.eventId&&(a.eventId=l.eventId);a.hM=g.Fd(l.trackingParams);a.B=g.Fd(l.closeTrackingParams);a.zt=g.Fd(l.iconTrackingParams)},Br_=function(a,l){var m=l.cardId?l.cardId:"cr:"+a.C,T=a.D.Y().experiments.XO("enable_error_corrections_infocard_web_client");
if(!l.content&&l.teaser.simpleCardTeaserRenderer&&T){var y=l.teaser.simpleCardTeaserRenderer,R=l.icon?l.icon.infoCardIconRenderer:null;l={id:m,timestamp:a.C,type:"simple",teaserText:g.Lj(y.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,sessionData:{},sponsored:!1,s9:{},gt:null,Qy:y.trackingParams?g.Fd(y.trackingParams):null,zt:R&&R.trackingParams?g.Fd(R.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,
Lb:null,title:"",customMessage:"",url:null,onClickCommand:y.onTapCommand||null};UT(a,l)}else{var H;if((H=l.content)==null?0:H.simpleCardContentRenderer){if(!l.cueRanges.length)return;R=(y=l.content)==null?void 0:y.simpleCardContentRenderer;y=l.teaser.simpleCardTeaserRenderer;var b=l.icon?l.icon.infoCardIconRenderer:null;l={id:m,timestamp:a.C,type:"simple",teaserText:g.Lj(y.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,
sessionData:rL(a,m,l,R),sponsored:!1,s9:uk(R,y,R.command),gt:R.trackingParams?g.Fd(R.trackingParams):null,Qy:y.trackingParams?g.Fd(y.trackingParams):null,zt:b&&b.trackingParams?g.Fd(b.trackingParams):null,imageUrl:a5(R.image.thumbnails,290).url,displayDomain:R.displayDomain?g.Lj(R.displayDomain):null,showLinkIcon:!!R.showLinkIcon,Lb:null,title:R.title?g.Lj(R.title):"",customMessage:R.callToAction?g.Lj(R.callToAction):"",url:g.I(R.command,g.I8).url?IQ({pause_on_navigation:!a.context.videoData.isLivePlayback,
target:"new",value:g.I(R.command,g.I8).url}):null,onClickCommand:null};UT(a,l)}else{var M;if((M=l.content)==null?0:M.collaboratorInfoCardContentRenderer){if(!l.cueRanges.length)return;y=(R=l.content)==null?void 0:R.collaboratorInfoCardContentRenderer;R=l.teaser.simpleCardTeaserRenderer;b=l.icon?l.icon.infoCardIconRenderer:null;l={id:m,timestamp:a.C,type:"collaborator",teaserText:g.Lj(R.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),startMs:Number(l.cueRanges[0].startCardActiveMs),
autoOpen:!!l.autoOpen,sessionData:rL(a,m,l,y),sponsored:!1,s9:uk(y,R,y.endpoint),gt:y.trackingParams?g.Fd(y.trackingParams):null,Qy:R.trackingParams?g.Fd(R.trackingParams):null,zt:b&&b.trackingParams?g.Fd(b.trackingParams):null,channelId:g.I(y.endpoint,g.FF).browseId,customMessage:y.customText?g.Lj(y.customText):null,profileImageUrl:a5(y.channelAvatar.thumbnails,290).url,title:y.channelName?g.Lj(y.channelName):"",metaInfo:[y.subscriberCountText?g.Lj(y.subscriberCountText):""],url:IQ({pause_on_navigation:!a.context.videoData.isLivePlayback,
target:"new",value:g.I(y.endpoint,g.FF).canonicalBaseUrl?g.I(y.endpoint,g.FF).canonicalBaseUrl:"/channel/"+g.I(y.endpoint,g.FF).browseId}),onClickCommand:null};UT(a,l)}else{var d;if((d=l.content)==null?0:d.playlistInfoCardContentRenderer){if(!l.cueRanges.length)return;y=(b=l.content)==null?void 0:b.playlistInfoCardContentRenderer;R=l.teaser.simpleCardTeaserRenderer;b=l.icon?l.icon.infoCardIconRenderer:null;l={id:m,timestamp:a.C,type:"playlist",teaserText:g.Lj(R.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),
startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,sessionData:rL(a,m,l,y),sponsored:!1,s9:uk(y,R,y.action),gt:y.trackingParams?g.Fd(y.trackingParams):null,Qy:R.trackingParams?g.Fd(R.trackingParams):null,zt:b&&b.trackingParams?g.Fd(b.trackingParams):null,z1:a5(y.playlistThumbnail.thumbnails,258).url,customMessage:y.customMessage?g.Lj(y.customMessage):null,playlistVideoCount:g.Lj(y.playlistVideoCount),title:y.playlistTitle?g.Lj(y.playlistTitle):"",metaInfo:[y.channelName?g.Lj(y.channelName):
"",y.videoCountText?g.Lj(y.videoCountText):""],url:IQ({pause_on_navigation:!a.context.videoData.isLivePlayback,target:"new",value:Se9(y.action)}),onClickCommand:null};UT(a,l)}else{var A;if((A=l.content)==null?0:A.videoInfoCardContentRenderer){if(!l.cueRanges.length)return;var P;y=(P=l.content)==null?void 0:P.videoInfoCardContentRenderer;R=l.teaser.simpleCardTeaserRenderer;b=l.icon?l.icon.infoCardIconRenderer:null;l={id:m,timestamp:a.C,type:"video",teaserText:g.Lj(R.message),teaserDurationMs:Number(l.cueRanges[0].teaserDurationMs),
startMs:Number(l.cueRanges[0].startCardActiveMs),autoOpen:!!l.autoOpen,sessionData:rL(a,m,l,y),sponsored:!1,s9:uk(y,R,y.action),gt:y.trackingParams?g.Fd(y.trackingParams):null,Qy:R.trackingParams?g.Fd(R.trackingParams):null,zt:b&&b.trackingParams?g.Fd(b.trackingParams):null,z1:a5(y.videoThumbnail.thumbnails,258).url,videoDuration:y.lengthString?g.Lj(y.lengthString):null,customMessage:y.customMessage?g.Lj(y.customMessage):null,title:y.videoTitle?g.Lj(y.videoTitle):"",metaInfo:[y.channelName?g.Lj(y.channelName):
"",y.viewCountText?g.Lj(y.viewCountText):""],isLiveNow:!!y.badge,url:IQ({pause_on_navigation:!a.context.videoData.isLivePlayback,target:"new",value:Se9(y.action)}),onClickCommand:null};UT(a,l)}}}}}a.C++},a5=function(a,l){for(var m=-1,T=-1,y=0;y<a.length;y++){if(a[y].height===l||a[y].width===290)return a[y];
((a[y].height||0)<l||(a[y].width||0)<290)&&(m<0||(a[m].height||0)<(a[y].height||0)||(a[m].width||0)<(a[y].width||0))?m=y:((a[y].height||0)>=l||(a[y].width||0)>=290)&&(T<0||(a[T].height||0)>(a[y].height||0)||(a[T].width||0)>(a[y].width||0))&&(T=y)}return a[T>=0?T:m]},rL=function(a,l,m,T){return{feature:m.feature?m.feature:"cards",
src_vid:a.context.videoData.videoId,annotation_id:l,ei:a.context.videoData.eventId||"",itct:T.trackingParams||""}},nFs=function(a,l){if(l=kfX(a,l))l===a.T&&(a.T=null),a.D.removeCueRange(l.MA.id),g.HI(l.PG),g.Wn(a.cards,l),a.b5(),l2(a)},XD=function(a,l,m){if(!a.Z){a.wb.show();
a.St=new g.aH(function(){g.M$(a.context.D.getRootNode(),g.rP.IV_DRAWER_OPEN)},0);
a.St.start();a.AM.W(a.L,"mousewheel",function(H){a.qj.start();H.preventDefault();H=H||window.event;var b=0;H.type=="MozMousePixelScroll"?b=0==(H.axis==H.HORIZONTAL_AXIS)?H.detail:0:window.opera?b=H.detail:b=H.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?H.wheelDeltaY/-30:H.wheelDeltaY/-1.2:H.wheelDelta/-1.6:H.wheelDeltaY/-3;if(H=b)a.L.scrollTop+=H});
a.Z=!0;var T=g.KU();T&&a.hM&&a.B&&g.gx(T,[a.hM,a.B]);l={TRIGGER_TYPE:l};for(var y=g.c(a.cards),R=y.next();!R.done;R=y.next())R=R.value,R.ll||(R.ll=!0,wAF(a.context.logger,R.MA.s9.jO,l)),T&&g.gx(T,[R.MA.gt]);tT(a.D);m&&(a.K=new g.aH(function(){a.Kx=a.J;a.vF.focus()},330),a.K.start())}},Ys=function(a){a.Z&&(a.wb.hide(),g.$H(a.AM),g.dK(a.context.D.getRootNode(),g.rP.IV_DRAWER_OPEN),a.Z=!1,tT(a.D),a.K&&a.K.stop(),a.K=new g.aH(function(){a.Kx&&(a.Kx.focus(),a.Kx=null)},330),a.K.start())},IUX=function(a){g.i0(a.hN(),
[g.rP.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.fq(a.D,a.j,5);a.qB();a.J=g.ud("ytp-cards-button",a.D.getRootNode());a.vF=g.ud("iv-drawer-close-button",a.j);a.isInitialized=!0},CJI=function(a){a.Ij.push(g.g6("iv-teaser-shown",a.PW,a));
a.Ij.push(g.g6("iv-teaser-hidden",a.Nb,a));a.Ij.push(g.g6("iv-teaser-clicked",a.My,a));a.ZR=!0},EFd=function(a,l){var m;
return l.onClickCommand&&((m=g.I(l.onClickCommand,g.c0d))==null?void 0:m.targetId)==="engagement-panel-error-corrections"?(a.lT=l,!0):!1},oFn=function(a,l){a.lT=l;
var m=a.D.getVideoData();if(!m)return!1;m=g.K7(m);if(m==null?0:m.markersMap)for(var T,y=0;((T=m)==null?void 0:T.markersMap.length)>y;y++){var R=void 0,H=(R=m)==null?void 0:R.markersMap[y];if(H.key==="ERROR_CORRECTION_MARKERS"&&(R=void 0,(H=(R=H.value)==null?void 0:R.markers)&&H.length>0))return T=void 0,l.startMs=((T=g.I(H[0],g.Pkd))==null?void 0:T.timeRangeStartMillis)||0,a.lT=null,!0}return!1},UT=function(a,l){if(!EFd(a,l)||oFn(a,l)){var m=xLD(a,l);
if(m){var T={MA:l,PG:m.element,ll:!1};if(l.onClickCommand)a.D.V("web_infocards_teaser_show_logging_fix")&&(a.ZR||CJI(a),nFs(a,l.id),m=a.findLastIndex(T),g.hI(a.cards,m,0,T));else{a.isInitialized||IUX(a);nFs(a,l.id);var y=a.findLastIndex(T);g.hI(a.cards,y,0,T);m.DK(a.L,y);a.b5()}l.autoOpen?a.addCueRange(l.startMs,0x8000000000000,l.id,function(){a.Z||(a.T=T,l2(a),DLd(a,T),XD(a,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(m=a.context.D.getCurrentTime()*1E3,m<5E3&&m>l.startMs&&uh_(a,T),a.addCueRange(l.startMs,
l.startMs+1,l.id,function(){uh_(a,T)}),l2(a))}}},xLD=function(a,l){switch(l.type){case "simple":a=a.jt;
var m=l.displayDomain?{U:"div",S:"iv-card-image-text",Lx:l.displayDomain}:void 0;var T=zBD(l);m={U:"div",uT:["iv-card"],X:[{U:"a",S:"iv-click-target",G:{href:l.url?wL(l.url)||"":""},X:[ET(l.imageUrl,m),{U:"div",S:"iv-card-content",X:[C4("h2",void 0,l.title),T]}]}]};m=new g.x(m);oQ(a,g.x5("iv-click-target",m.element),l,l.url);l=m;break;case "collaborator":a=a.jt;m={U:"div",uT:["iv-card","iv-card-channel"],X:[{U:"a",uT:["iv-click-target"],G:{href:wL(l.url)||"","data-ytid":l.channelId},X:[ET(l.profileImageUrl),
{U:"div",S:"iv-card-content",X:[OVV(l),{U:"h2",S:"iv-card-primary-link",Lx:l.title},KLn(l)]}]}]};m=new g.x(m);oQ(a,g.x5("iv-click-target",m.element),l,l.url);l=m;break;case "playlist":a=a.jt;m={U:"div",uT:["iv-card","iv-card-playlist"],X:[{U:"a",S:"iv-click-target",G:{href:wL(l.url)||""},X:[ET(l.z1,{U:"div",S:"iv-card-image-overlay",X:[{U:"span",S:"iv-card-playlist-video-count",Lx:l.playlistVideoCount}]}),{U:"div",S:"iv-card-content",X:[OVV(l),C4("h2","iv-card-primary-link",l.title),KLn(l)]}]}]};
m=new g.x(m);oQ(a,g.x5("iv-click-target",m.element),l,l.url);l=m;break;case "productListing":a=a.jt;var y=l.offers.length!=0;m=["iv-card"];T="";var R=zBD(l);y&&(m.push("iv-card-product-listing"),T="iv-card-primary-link",R=l.offers[0],y=[],R.price&&y.push({U:"div",S:"iv-card-offer-price",Lx:R.price}),R.merchant&&y.push({U:"div",S:"iv-card-offer-merchant",Lx:R.merchant}),R={U:"div",X:y});y=l.url?wL(l.url)||"":"";m={U:"div",uT:m,G:{tabindex:"0"},X:[{U:"a",uT:["iv-card-image","iv-click-target"],G:{style:"background-image: url("+
l.imageUrl+");",href:y,"aria-hidden":"true",tabindex:"-1"}},{U:"div",S:"iv-card-content",X:[l.sponsored?{U:"div",S:"iv-card-sponsored",X:["Patrocinado",{U:"div",S:"iv-ad-info-container",X:[{U:"div",S:"iv-ad-info",Lx:"{{adInfo}}"},{U:"div",S:"iv-ad-info-icon-container",X:[{U:"div",S:"iv-ad-info-icon"},{U:"div",S:"iv-ad-info-callout"}]}]}]}:"",{U:"a",S:"iv-click-target",G:{href:y},X:[C4("h2",T,l.title),R]}]}]};m=new g.x(m);T=g.lK("span");g.bK(T,"Ves este producto porque consideramos que es importante para el video. Es posible que Google reciba compensaciones del comerciante.");
m.MN(T,"adInfo");oQ(a,g.x5("iv-click-target",m.element),l,l.url);l=m;break;case "video":a=a.jt;T=l.videoDuration?{U:"span",S:"iv-card-video-duration",Lx:l.videoDuration}:void 0;R=l.isLiveNow?{U:"span",uT:["yt-badge","yt-badge-live"],Lx:"EN DIRECTO AHORA"}:null;y={U:"div",uT:["iv-card","iv-card-video"],X:[{U:"a",S:"iv-click-target",G:{href:((m=l.url)==null?void 0:wL(m))||""},X:[ET(l.z1,T),{U:"div",S:"iv-card-content",X:[OVV(l),C4("h2","iv-card-primary-link",l.title),KLn(l),R]}]}]};m=new g.x(y);oQ(a,
g.x5("iv-click-target",m.element),l,l.url);l=m;break;default:return null}return l},XAr=function(a){if(a.T)return a.T.MA.type==="productListing";
if(a.D.V("enable_wn_infocards")){var l;return!((l=a.cards)==null||!l.length)&&g.DN(a.cards,function(m){return m.MA.type==="productListing"})}return g.DN(a.cards,function(m){return m.MA.type==="productListing"})},l2=function(a){g.AM(a.D.getRootNode(),"ytp-cards-shopping-active",XAr(a))},uh_=function(a,l){if(!g.gK(a.D.getRootNode(),"ytp-cards-teaser-shown")){if(a.T!==l){var m=g.KU(),T=a.T?a.T.MA.zt:a.zt;
m&&T&&g.MX(m,[T]);a.T=l;l2(a)}if(m=a.isInitialized)m=a.hN().style.display=="none";m||(m=a.context.D.getPlayerState(),T=m===0&&a.context.D.getCurrentTime()===0,m=!(m===1||m===3||T));m||l.MA.teaserDurationMs&&a.D.ym(!0,{teaserText:l.MA.teaserText,durationMs:l.MA.teaserDurationMs,onClickCommand:l.MA.onClickCommand});a.rb.isActive()||((!a.Z||!a.qj.isActive()&&a.Cx)&&DLd(a,l),a.rb.start(910+l.MA.teaserDurationMs))}},DLd=function(a,l){a.N.I0?(l=new K4([0,
a.L.scrollTop],[0,l.PG.offsetTop],600,mLB),a.context.Z.listen(l,"animate",function(m){a.L.scrollTop=m.y}),a.context.Z.listen(l,"finish",function(m){a.L.scrollTop=m.y}),l.play()):(a.N.zx(!0),a.L.scrollTop=l.PG.offsetTop,a.N.zx(!1))},mh=function(a){return a.T&&a.T.MA?a.T.MA:a.cards[0]&&a.cards[0].MA?a.cards[0].MA:null},kfX=function(a,l){return g.Pn(a.cards,function(m){return m.MA.id===l})},T5=function(a,l,m){xs.call(this,a,l);
this.annotation=m;this.isActive=!1},YeI=function(a){var l=a.annotation.data;
"start_ms"in l&&"end_ms"in l&&a.addCueRange(Number(l.start_ms),Number(l.end_ms),a.annotation.id,function(){a.show()},function(){a.hide()})},y2=function(a,l,m){T5.call(this,a,l,m);
this.L=null;this.B=!1;this.Z=null;this.j=!1;this.T=this.C=this.K=null},ULB=function(a,l){var m=m===void 0?0:m;
var T=xwB(l).width;g.x1(l,T);m=new aUr(l,[T,l.offsetTop],[T-T-m,l.offsetTop],200,lUg);g.w(a,m);a.context.Z.listen(m,"begin",function(){g.r8(l,!0)});
m.play()},l5c=function(a,l){if(l.channel_name){var m=a.createElement({U:"div",
uT:["iv-branding-context-name"],Lx:l.channel_name}),T=a.createElement({U:"div",uT:["iv-branding-context-subscribe"]}),y=l.standalone_subscribe_button_data;y&&(a.T=new g.ue(y.subscribeText,y.subscribeCount,y.unsubscribeText,y.unsubscribeCount,!!y.enabled,!!y.classic,l.channel_id,!!y.subscribed,y.feature,l.session_data.itct,a.context.D,!1),a.T.DK(T));var R=a.createElement({U:"div",uT:["iv-branding-context-subscribe-caret"]}),H=a.createElement({U:"div",uT:["branding-context-container-inner"]});H.appendChild(R);
H.appendChild(m);H.appendChild(T);g.r8(H,!1);var b=a.createElement({U:"div",uT:["branding-context-container-outer"]});b.appendChild(H);g.nA(b,"right",l.image_width+"px");g.Tb(a.hN(),b);a.Z=new g.aH(function(){rrn(a,H,b)},500);
g.w(a,a.Z);a.context.T.listen(a.hN(),"mouseover",function(){a5g(a,H,b,R,l.image_height)});
a.context.T.listen(a.hN(),"mouseout",function(){a.Z.start()})}},a5g=function(a,l,m,T,y){a.Z.stop();
if(!a.j){var R=g.Uh(l);a.T||(l.style.width=g.oR(R.width,!0),m.style.width=g.oR(R.width,!0));g.nA(T,"top",R.height-Math.max(Math.min(R.height,y)/2+10,20)+"px");g.nA(T,"right","1px");a.j=!0;g.r8(l,!0);a.K=new g.aH(function(){g.M$(this.hN(),"iv-branding-active")},0,a);
a.K.start()}},rrn=function(a,l,m){g.dK(a.hN(),"iv-branding-active");
a.C=new g.aH(function(){g.r8(l,!1);a.T||(m.style.width=g.oR(0,!0))},250);
a.C.start();a.j=!1},m6X=function(a,l,m,T,y,R,H){this.T=a;
this.Z=l;this.aj=m;this.videoData=T;this.logger=y;this.D=R;this.L=H},TaV=function(a,l,m){T5.call(this,a,l,m);
var T=this;this.J=this.isCollapsed=this.N=!1;this.C=5E3;this.L=this.Z=this.T=this.j=null;this.B=this.createElement({U:"div",uT:["iv-promo-contents"]});this.K=new g.aH(function(){T.T.setAttribute("aria-hidden","true");g.r8(T.Z,!1);g.r8(T.L,!0)},700,this);
g.w(this,this.K)},R$s=function(a){var l=a.annotation.data;
if(a.annotation.style==="cta")var m=6;else if(a.annotation.style==="video"||a.annotation.style==="playlist")m=7;a.C=l.collapsedelay_ms||a.C;var T=["iv-promo","iv-promo-inactive"];a.hN().setAttribute("aria-hidden","true");a.hN().setAttribute("aria-label","Promoci\u00f3n");a.hN().tabIndex=0;var y=a.annotation.eb(),R=l.image_url;if(R){var H=a.createElement({U:"div",uT:["iv-promo-img","iv-click-target"]});R=a.createElement({U:"img",G:{src:R,"aria-hidden":"true"}});H.appendChild(R);l.video_duration&&!l.is_live?
(R=a.createElement({U:"span",S:"iv-promo-video-duration",Lx:l.video_duration}),H.appendChild(R)):l.playlist_length&&(R=a.createElement({U:"span",S:"iv-promo-playlist-length",Lx:l.playlist_length.toString()}),H.appendChild(R));y&&Du(a,H,y,a.annotation.id,l.session_data,void 0,m)}y?(R=a.createElement({U:"a",S:"iv-promo-txt"}),g.Ut(R,wL(y)),a.T=R):a.T=a.createElement({U:"div",S:"iv-promo-txt"});switch(a.annotation.style){case "cta":case "website":var b=a.createElement({U:"p",X:[{U:"strong",Lx:l.text_line_1}]});
var M=a.createElement({U:"p",X:[{U:"span",S:"iv-promo-link",Lx:l.text_line_2}]});if(R=l.text_line_3){T.push("iv-promo-website-card-cta-redesign");var d=a.createElement({U:"button",uT:["iv-promo-round-expand-icon","ytp-button"]});R=a.createElement({U:"button",uT:["iv-button","iv-promo-button"],X:[{U:"span",S:"iv-button-content",Lx:R}]});var A=a.createElement({U:"div",S:"iv-promo-button-container"});A.appendChild(R);y&&Du(a,a.hN(),y,a.annotation.id,l.session_data,void 0,m)}g.M$(a.T,"iv-click-target");
y&&Du(a,a.T,y,a.annotation.id,l.session_data,void 0,m);break;case "playlist":case "video":b=a.createElement({U:"p",X:[{U:"span",Lx:l.text_line_1}]}),M=a.createElement({U:"p",X:[{U:"strong",Lx:l.text_line_2}]}),l.is_live&&(b=M,M=a.createElement({U:"span",uT:["yt-badge","iv-promo-badge-live"],Lx:"EN DIRECTO AHORA"})),g.M$(a.T,"iv-click-target"),y&&Du(a,a.T,y,a.annotation.id,l.session_data,void 0,m),T.push("iv-promo-video")}b&&a.T.appendChild(b);M&&a.T.appendChild(M);a.B.appendChild(a.T);A&&a.B.appendChild(A);
m=a.createElement({U:"div",S:"iv-promo-actions"});a.L=a.createElement({U:"button",uT:["iv-promo-expand","ytp-button"]});a.L.title="Expandir";a.context.T.listen(a.L,"click",function(P){yKs(a,5E3,P)});
m.appendChild(a.L);g.r8(a.L,!1);a.context.T.listen(a.hN(),"mouseover",a.pj,a);a.context.T.listen(a.hN(),"mouseout",a.J8,a);a.context.T.listen(a.hN(),"touchend",function(P){yKs(a,5E3,P)});
a.Z=a.createElement({U:"button",uT:["iv-promo-close","ytp-button"]});a.Z.title="Cerrar";a.context.T.listen(a.Z,"click",a.annotation.style==="cta"&&l.text_line_3?a.bz:a.Bs,a);m.appendChild(a.Z);g.i0(a.hN(),T);H&&(g.Tb(a.hN(),H),d&&H.appendChild(d));g.Tb(a.hN(),a.B);g.Tb(a.hN(),m)},yKs=function(a,l,m){m.stopPropagation();
Hv9(a);qMr(a,l);a.T.focus()},bv5=function(a){a.isCollapsed||a.J||a.j||(g.M$(a.hN(),"iv-promo-collapsed"),a.isCollapsed=!0,a.K.start())},Hv9=function(a){a.K.stop();
a.isCollapsed&&(g.jt(a.hN(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),a.isCollapsed=!1,a.T&&a.T.removeAttribute("aria-hidden"),g.r8(a.L,!1),g.r8(a.Z,!0))},qMr=function(a,l){a.j||(a.j=g.wX(function(){g25(this);
bv5(this)},l,a))},g25=function(a){a.j&&(g.u7.clearTimeout(a.j),a.j=null)},Mps=function(a){this.D=a},wAF=function(a,l,m){l&&(m?R5(a,l.map(function(T){return g.fG(T,m)})):R5(a,l))},R5=function(a,l,m,T){var y=1,R=void 0,H=-1;
if(m){var b=!1;R=function(){y--;y||b||(clearTimeout(H),b=!0,m())};
H=setTimeout(function(){b=!0;m()},1E3)}l=g.c(l||[]);
for(var M=l.next();!M.done;M=l.next())M=M.value,y++,g.Ec(M,R);T&&(y++,T!==0&&a.D.sendVideoStatsEngageEvent(T,R))},iv9=function(a){g.P3.call(this,a);
var l=this;this.Ij=this.J=!1;this.loadNumber=0;this.C={};this.logger=new Mps(this.player);this.j=new g.BT(this);this.K=this.B=null;this.events=new g.BT(this);this.Zq=this.N=this.T=null;this.lT=[];g.w(this,this.j);this.j.W(this.player,"onVideoAreaChange",function(){l.publish("onVideoAreaChange")});
this.j.W(this.player,"onHideControls",function(){l.publish("onHideControls")});
this.j.W(this.player,"onShowControls",function(){l.publish("onShowControls")});
this.j.W(this.player,"resize",function(T){l.publish("resize",T)});
this.j.W(this.player,"presentingplayerstatechange",function(T){l.publish("presentingplayerstatechange",T)});
this.subscribe("presentingplayerstatechange",this.rM,this);this.subscribe("resize",this.VZ,this);this.player.Y().Cx.subscribe("vast_info_card_add",this.Vo,this);g.w(this,this.events);this.jt=this.createElement({U:"div",S:"video-custom-annotations"});this.L=new g.x({U:"div",uT:["ytp-player-content","ytp-iv-player-content"]});g.w(this,this.L);g.fq(this.player,this.L.element,4);this.L.hide();this.Z=new g.x({U:"div",uT:["ytp-iv-video-content"]});g.w(this,this.Z);a=this.createElement({U:"div",S:"video-annotations"});
a.appendChild(this.jt);this.Z.element.appendChild(a);this.Kp()&&this.load();var m=this.createElement({U:"style"});(g.oM("HEAD")[0]||document.body).appendChild(m);this.addOnDisposeCallback(function(){g.HI(m)});
if(a=m.sheet)a.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),a.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),a.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),a.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),a.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),a.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),a.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),a.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),a.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),a.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},d6g=function(a){a=a.createElement({U:"div",
uT:["annotation","annotation-type-custom"]});g.r8(a,!1);return a},jfX=function(a,l){l=!l.isCued()&&!g.u(l,1024);
a.L.zx(l);a.Z.zx(l)},AKg=function(a,l,m){a.J=!0;
a.K=g.OZ(l,m)},PLg=function(a,l){for(var m={},T=g.c(l.attributes),y=T.next();!y.done;y=T.next())y=y.value,m[y.name]=y.nodeValue;
for(T=0;T<l.childNodes.length;T++)if(y=l.childNodes[T],g.ms(y)&&y.nodeType==1){if(m[y.tagName])var R=m[y.tagName];else if(y.tagName==="data"){y.childNodes.length>0&&(R=y.childNodes[0].nodeValue,m[y.tagName]=typeof R==="string"?R.trim():R);continue}else R=[],m[y.tagName]=R;y&&y.tagName==="TEXT"?y.childNodes.length===1&&y.childNodes[0].nodeType===3?R.push(y.childNodes[0].nodeValue):R.push(""):y&&R.push(PLg(a,y))}return m},Zv_=function(a){var l=g.B(a.player.getVideoData());
if(l.AM){var m=a.player.Y().Cx.get(l.videoId);if(m){var T={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(y,R,H){y=a.loadNumber;R=l.videoId;a.loaded&&a.loadNumber===y&&a.player.getVideoData().videoId===R&&(H=g.py(H)&&H.responseXML?H.responseXML:null)&&GLD(a,H)}};
g.R$()&&(T.onFinish=Vps(a,T.onFinish));T.postParams={ic_only:"1"};p0d(T,m);a.J=!0;g.OZ(l.AM,T)}}},p0d=function(a,l){a.method="POST";
a.postParams=a.postParams||{};l.fM&&(a.postParams.ic_coll=l.fM);l.ra&&(a.postParams.ic_xml=l.ra);l.SD&&(a.postParams.ic_track=l.SD)},WC9=function(a){var l=new g.x({U:"div"});
g.r8(l.element,!1);var m=new fUd(a.player,l.element,H7(a));g.w(m,l);l.DK(a.L.element);m.JY();return m},LCX=function(a,l){var m,T;
if(l=(m=l.getWatchNextResponse())==null?void 0:(T=m.cards)==null?void 0:T.cardCollectionRenderer)a.Ij=!0,cKr(a,l),l.headerText&&a.Zq&&(m=g.Lj(l.headerText),a.Zq.setAttribute("title",m))},H7=function(a){if(!a.N){var l=new TrX(a);
g.w(a,l);var m=new g.cf(a);g.w(a,m);a.N=new m6X(l,m,a.player.Y(),a.player.getVideoData(),a.logger,a.player,a.Or)}return a.N},GLD=function(a,l){var m=!1,T=l.getElementsByTagName("annotations");
if(T&&!(T.length<1)&&(T=T[0].getAttribute("itct"))){var y=g.KU();if(y){var R=g.Os();R&&g.me(g.Us)(void 0,y,R,[g.Fd(T)])}}l=l.getElementsByTagName("annotation");for(T=0;T<l.length;T++){R=PLg(a,l[T]);y=null;try{if(R){var H=R.id,b=/.+/;var M=typeof H==="string"&&b!=null&&H!=null&&H.match(b)?H:"";var d=n4(R.type,Nad),A=n4(R.style,Qf9),P=ZVI(R.data),G=P.length!==0?JSON.parse(P):{};var V=R.action;R=t9_;if(V==null)var p=null;else if(g.lV(V)){b=[];for(var L=g.c(V),N=L.next();!N.done;N=L.next()){var e=R(N.value);
e&&b.push(e)}p=b}else{var t=R(V);p=t?[t]:[]}y=M&&d?new eBD(M,d,A,p,G):null}else y=null}catch(yp){}if(y)if(y.type==="branding"||y.type==="promotion"){R=a;b=y;var v=d6g(R),S=null;switch(b.type){case "branding":if(R.player.Y().JW)break;R.L.element.appendChild(v);S=new y2(v,H7(R),b);break;case "promotion":g.fq(R.player,v,4),S=new TaV(v,H7(R),b)}S&&S.JY();if(R=S)g.w(a,R),a.C[y.id]=R}else if(y.type==="card"||y.type==="drawer"){a.T||(a.T=WC9(a),g.w(a,a.T));if(y.type==="card"){v=a.T;var n=(m=y)&&m.data&&
m.data.card_type;y=m.data;if(n)switch(R=y.tracking||{},R={jO:R.impression,click:R.click,close:R.close,E3:R.teaser_impression,yv:R.teaser_click},b=y.tracking_params||{},S=null,n){case "collaborator":m={id:m.id,timestamp:y.timestamp||0,type:y.card_type,teaserText:y.teaser_text,teaserDurationMs:y.teaser_duration_ms,startMs:y.start_ms,autoOpen:y.auto_open||!1,sessionData:y.session_data||{},sponsored:y.sponsored||!1,s9:R,gt:b.card?g.Fd(b.card):null,Qy:b.teaser?g.Fd(b.teaser):null,zt:b.icon?g.Fd(b.icon):
null,channelId:y.channel_id,customMessage:y.custom_message?y.custom_message:null,profileImageUrl:y.image_url,title:y.title,metaInfo:y.meta_info,url:IQ({pause_on_navigation:y.pause_on_navigation,target:y.target||"new",value:y.url}),onClickCommand:null};UT(v,m);break;case "playlist":m={id:m.id,timestamp:y.timestamp||0,type:y.card_type,teaserText:y.teaser_text,teaserDurationMs:y.teaser_duration_ms,startMs:y.start_ms,autoOpen:y.auto_open||!1,sessionData:y.session_data||{},sponsored:y.sponsored||!1,s9:R,
gt:b.card?g.Fd(b.card):null,Qy:b.teaser?g.Fd(b.teaser):null,zt:b.icon?g.Fd(b.icon):null,z1:y.image_url,playlistVideoCount:y.playlist_video_count,customMessage:y.custom_message?y.custom_message:null,title:y.title,metaInfo:y.meta_info,url:g.B(IQ({pause_on_navigation:y.pause_on_navigation,target:y.target||"new",value:y.url})),onClickCommand:null};UT(v,m);break;case "productListing":y.signin_url&&(S=IQ({target:"current",value:y.signin_url}));n=[];for(var X=y.offers||[],D=0;D<X.length;D++)n.push(new vFr(g.W6(X[D].merchant),
g.W6(X[D].price)));m={id:m.id,timestamp:y.timestamp||0,type:y.card_type,teaserText:y.teaser_text,teaserDurationMs:y.teaser_duration_ms,startMs:y.start_ms,autoOpen:y.auto_open||!1,sessionData:y.session_data||{},sponsored:y.sponsored||!1,s9:R,gt:b.card?g.Fd(b.card):null,Qy:b.teaser?g.Fd(b.teaser):null,zt:b.icon?g.Fd(b.icon):null,imageUrl:y.image_url,displayDomain:y.display_domain?y.display_domain:null,showLinkIcon:!!y.show_link_icon,Lb:y.button_icon_url?y.button_icon_url:null,title:y.title,customMessage:y.custom_message?
y.custom_message:null,url:g.B(IQ({pause_on_navigation:y.pause_on_navigation,target:y.target||"new",value:y.url})),l4g:S,I4N:y.signin_title?y.signin_title:void 0,vB8:y.signin_message?y.signin_message:void 0,offers:n,onClickCommand:null};UT(v,m);break;case "simple":m={id:m.id,timestamp:y.timestamp||0,type:y.card_type,teaserText:y.teaser_text,teaserDurationMs:y.teaser_duration_ms,startMs:y.start_ms,autoOpen:y.auto_open||!1,sessionData:y.session_data||{},sponsored:y.sponsored||!1,s9:R,gt:b.card?g.Fd(b.card):
null,Qy:b.teaser?g.Fd(b.teaser):null,zt:b.icon?g.Fd(b.icon):null,imageUrl:y.image_url,displayDomain:y.display_domain?y.display_domain:null,showLinkIcon:!!y.show_link_icon,Lb:y.button_icon_url?y.button_icon_url:null,title:y.title,customMessage:y.custom_message?y.custom_message:null,url:g.B(IQ({pause_on_navigation:y.pause_on_navigation,target:y.target||"new",value:y.url})),onClickCommand:null};UT(v,m);break;case "video":m={id:m.id,timestamp:y.timestamp||0,type:y.card_type,teaserText:y.teaser_text,teaserDurationMs:y.teaser_duration_ms,
startMs:y.start_ms,autoOpen:y.auto_open||!1,sessionData:y.session_data||{},sponsored:y.sponsored||!1,s9:R,gt:b.card?g.Fd(b.card):null,Qy:b.teaser?g.Fd(b.teaser):null,zt:b.icon?g.Fd(b.icon):null,z1:y.image_url,videoDuration:y.video_duration||null,customMessage:y.custom_message?y.custom_message:null,title:y.title,metaInfo:y.meta_info,isLiveNow:!!y.is_live_now,url:g.B(IQ({pause_on_navigation:y.pause_on_navigation,target:y.target||"new",value:y.url})),onClickCommand:null},UT(v,m)}}else JrX(a.T,y);m=!0}}m&&
(tT(a.player),a.VZ())},cKr=function(a,l){var m=!1;
a.T||(a.T=WC9(a),g.w(a,a.T));for(var T=g.c(l.cards||[]),y=T.next();!y.done;y=T.next())y=y.value,y.cardRenderer&&(Br_(a.T,y.cardRenderer),m=!0);if(m){var R;(R=a.player.getVideoData())!=null&&g.sn(R)||(m=a.T,T=l.headerText?g.Lj(l.headerText):"",g.bK(m.lZ,T),m.J&&m.J.setAttribute("title",T),m.context.videoData.eventId&&(m.eventId=m.context.videoData.eventId),m.hM=l.trackingParams?g.Fd(l.trackingParams):null,m.B=l.closeButton.infoCardIconRenderer.trackingParams?g.Fd(l.closeButton.infoCardIconRenderer.trackingParams):
null,m.zt=l.icon.infoCardIconRenderer.trackingParams?g.Fd(l.icon.infoCardIconRenderer.trackingParams):null,a.VZ());tT(a.player)}},tpd=function(a,l,m,T,y){if(!a.player.Y().JW){var R=[];
l.navigationEndpoint&&g.I(l.navigationEndpoint,g.FF)&&g.I(l.navigationEndpoint,g.FF).browseId&&R.push(new LLB("openUrl","click",new WLg("/channel/"+g.I(l.navigationEndpoint,g.FF).browseId,"new",!0,!0)));var H=l.watermark.thumbnails[0];T={channel_name:l.channelName,end_ms:l.endTimeMs,image_height:H.height,image_type:1,image_url:H.url,image_width:H.width,is_mobile:!1,session_data:{annotation_id:m,ei:y,feature:"iv",itct:l.trackingParams,src_vid:T},start_ms:l.startTimeMs};if(l.subscribeButton&&g.I(l.subscribeButton,
g.hU)){T.channel_id=g.I(l.subscribeButton,g.hU).channelId;var b;l=g.I(l.subscribeButton,g.hU);H=y=null;l.subscribed?(l.subscriberCountWithUnsubscribeText&&(y=g.Lj(l.subscriberCountWithUnsubscribeText)),l.subscriberCountText&&(H=g.Lj(l.subscriberCountText))):(l.subscriberCountText&&(y=g.Lj(l.subscriberCountText)),l.subscriberCountWithSubscribeText&&(H=g.Lj(l.subscriberCountWithSubscribeText)));var M,d=((M=g.I((b=l.signInEndpoint)==null?void 0:b.commandMetadata,g.ZJ))==null?void 0:M.url)||"";b={subscribeText:g.Lj(l.unsubscribedButtonText),
subscribeCount:y||"",unsubscribeText:g.Lj(l.subscribedButtonText),unsubscribeCount:H||"",enabled:l.enabled||!1,classic:!1,subscribed:l.subscribed||!1,feature:"iv",signInUrl:d};T.standalone_subscribe_button_data=b}R=new eBD(m,"branding","branding",R,T);b=d6g(a);a.L.element.appendChild(b);R=new y2(b,H7(a),R);R.JY();g.w(R,R);a.C[m]=R}},Vps=function(a,l){return function(){var m=g.Jz.apply(0,arguments);
a.FO()||a.lT.push(g.Ed.Q8(function(){l.apply(null,g.F(m))}))}},e$V=function(a){return a==="annotation-editor"||a==="live-dashboard"};
g.hB.prototype.ym=g.qd(45,function(a,l){var m=g.OP(this.iZ());m&&m.ym(a,l)});
var FD={},hT=null;g.iV(K4,g.Pb);g.Z=K4.prototype;g.Z.getDuration=function(){return this.duration};
g.Z.play=function(a){if(a||this.T==0)this.progress=0,this.coords=this.L;else if(this.isPlaying())return!1;OT(this);this.startTime=a=g.bV();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.j=this.startTime;this.progress||this.Zc();this.eX("play");this.isPaused()&&this.eX("resume");this.T=1;var l=g.y5(this);l in FD||(FD[l]=this);XIn();Y0c(this,a);return!0};
g.Z.stop=function(a){OT(this);this.T=0;a&&(this.progress=1);Uwd(this,this.progress);this.onStop();this.ue()};
g.Z.pause=function(){this.isPlaying()&&(OT(this),this.T=-1,this.eX("pause"))};
g.Z.sL=function(){this.T==0||this.stop(!1);this.eX("destroy");K4.l4.sL.call(this)};
g.Z.destroy=function(){this.dispose()};
g.Z.Bf=function(){this.eX("animate")};
g.Z.eX=function(a){this.dispatchEvent(new rdg(a,this))};
g.iV(rdg,g.ak);g.iV(zk,K4);zk.prototype.Z=function(){};
zk.prototype.Bf=function(){this.Z();zk.l4.Bf.call(this)};
zk.prototype.ue=function(){this.Z();zk.l4.ue.call(this)};
zk.prototype.Zc=function(){this.Z();zk.l4.Zc.call(this)};
g.iV(aUr,zk);aUr.prototype.Z=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.W(TrX,g.k);g.Z=TrX.prototype;g.Z.listen=function(a,l,m,T){m=(0,g.Rs)(m,T||this.L);a=g.eb(a,l,m);this.T.push(a);return a};
g.Z.Ix=function(a,l,m,T){m=(0,g.Rs)(m,T||this.L);a=Dwc(a,l,m);this.T.push(a);return a};
g.Z.DT=function(a){g.FY(a);g.Wn(this.T,a)};
g.Z.removeAll=function(){g.FY(this.T);this.T.length=0};
g.Z.sL=function(){this.removeAll();g.k.prototype.sL.call(this)};g.W(HVV,g.P3);g.Z=HVV.prototype;g.Z.load=function(){g.P3.prototype.load.call(this);if(!sT(this)){var a=g.V8b(this.player.getVideoData());a?(a=RBd(a,qeF(this)),SW(this,a,!1)):bVF(this)}};
g.Z.unload=function(){SW(this,null);this.j&&(this.j.abort(),this.j=null);g.P3.prototype.unload.call(this)};
g.Z.N6=function(a,l){return sT(this)?a==="loadCustomEndscreenRenderer"?(a=RBd(l,"new"),SW(this,a),!0):null:null};
g.Z.getOptions=function(){return sT(this)?["loadCustomEndscreenRenderer"]:[]};
g.Z.Mt=function(){if(this.endscreen&&this.endscreen.elements){var a=this.player.getVideoContentRect();if(a&&a.width!==0&&a.height!==0){var l=this.player.getPlayerSize();if(l&&l.width!==0&&l.height!==0){var m=a.width/a.height;var T=0;for(var y=-1,R=0;R<FCF.length;R++){var H=Math.abs(l.width-FCF[R]);if(y===-1||T>=H)y=R,T=H}T=h$s[y];this.Z&&g.nA(this.Z.element,"outline-width",Math.max(l.width,l.height)+"px");for(l=0;l<this.endscreen.elements.length;++l)if(R=this.endscreen.elements[l].id,y=this.L[R],
H=this.C[R],y&&H){var b=H.width*m/H.aspectRatio,M=Math.round(H.width*a.width);R=Math.round(b*a.height);var d=a.left+Math.round(H.left*a.width),A=a.top+Math.round(H.top*a.height);g.Y1(y.element,M,R);g.x1(y.element,d,A);g.jt(y.element,Ov5);M>256||R>256?g.M$(y.element,"ytp-ce-large-round"):M>96||R>96?g.M$(y.element,"ytp-ce-medium-round"):g.M$(y.element,"ytp-ce-small-round");g.jt(y.element,KC9);M=H.left+H.width/2;H=H.top+b/2;g.M$(y.element,M<=.5&&H<=.5?"ytp-ce-top-left-quad":M>.5&&H<=.5?"ytp-ce-top-right-quad":
M<=.5&&H>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.jt(y.element,h$s);g.M$(y.element,T);(y=g.D4(document,"div","ytp-ce-expanding-overlay-body",y.element)[0])&&g.nA(y,"height",R+"px")}}}}};
g.Z.onCueRangeEnter=function(a){if(this.endscreen)if(a.getId()==="ytp-ce-in-endscreen")ks(this,this.endscreen.impressionUrls),(a=g.KU())&&this.endscreen.visualElement&&g.bT(a,this.endscreen.visualElement),this.T&&(g.M$(this.T,"ytp-ce-element-show"),this.T.removeAttribute("aria-hidden"),this.player.yy()?g.M$(this.T,"ytp-ce-hide-button-lower"):g.dK(this.T,"ytp-ce-hide-button-lower"));else{a=a.getId().substring(15);var l=this.L[a],m=this.C[a];g.M$(l.element,"ytp-ce-element-show");l.element.removeAttribute("aria-hidden");
l=this.player.getRootNode();g.M$(l,"ytp-ce-shown");ks(this,m.impressionUrls);(l=g.KU())&&g.bT(l,m.visualElement);this.player.Y().J&&this.player.Pz("endscreenelementshown",a)}};
g.Z.onCueRangeExit=function(a){if(a.getId()==="ytp-ce-in-endscreen")this.T&&(g.dK(this.T,"ytp-ce-element-show"),this.T.setAttribute("aria-hidden","true"));else{a=a.getId().substring(15);var l=this.L[a];g.dK(l.element,"ytp-ce-element-show");l.element.setAttribute("aria-hidden","true");l=this.player.getRootNode();g.dK(l,"ytp-ce-shown");this.player.Y().J&&this.player.Pz("endscreenelementhidden",a)}};
g.Z.xIz=function(a){var l=this;a.target===window&&(new g.aH(function(){for(var m=g.c(Object.values(l.L)),T=m.next();!T.done;T=m.next())g.jt(T.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.Z.zx=function(a){for(var l=g.c(Object.values(this.L)),m=l.next();!m.done;m=l.next())m=m.value,a?m.element.setAttribute("hidden",""):m.element.removeAttribute("hidden")};
g.Z.dAO=function(a){this.T&&this.player.getRootNode().removeChild(this.T);a&&(g.M$(a,"ytp-ce-hide-button-container"),this.T=a,g.fq(this.player,this.T,4))};
var FCF=[346,426,470,506,570,640,853,1280,1920],h$s="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),KC9=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],Ov5=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var cr_={NkN:"current",SPj:"new"};var Nr_={CLOSE:"close",YPj:"openUrl",SUBSCRIBE:"subscribe"},QlX={fvM:"click",CLOSE:"close",aij:"hidden",FyO:"rollOut",xEL:"rollOver",YOT:"shown"};eBD.prototype.eb=function(){var a=FLc(this,function(l){return l.type==="openUrl"&&l.url!=null});
return a?a.url:null};
var Qf9={H7g:"anchored",Ah:"branding",CHANNEL:"channel",y$g:"cta",liz:"highlightText",XIz:"label",PLAYLIST:"playlist",POPUP:"popup",P1T:"speech",SUBSCRIBE:"subscribe",TUt:"title",VIDEO:"video",Hnb:"website"},Nad={Ah:"branding",ehj:"card",ihj:"drawer",Iiu:"highlight",ZHu:"marker",ToM:"promotion",TEXT:"text",oV8:"widget"};g.W(xs,g.k);g.Z=xs.prototype;g.Z.addCueRange=function(a,l,m,T,y){a=new g.Rq(a,l,{id:m,namespace:"annotations_module"});T&&this.tM.set(a,T);y&&this.Mj.set(a,y);this.context.D.d7([a],1)};
g.Z.JY=function(){this.context.L.subscribe("resize",this.b5,this)};
g.Z.hN=function(){return this.element};
g.Z.b_=function(a,l,m,T,y,R){if(this.yg)return!1;R&&(R.stopPropagation(),R.preventDefault());this.navigate(a,m,T,y);return!1};
g.Z.show=function(){};
g.Z.hide=function(){};
g.Z.destroy=function(){g.HI(this.hN())};
g.Z.b5=function(){};
g.Z.navigate=function(a,l,m,T){var y=this,R=wL(a);if(R){var H=slB(R,a.target),b=function(){a.T&&y.context.D.pauseVideo();var M=y.context.videoData.Rh||!1,d=g.br(R||"");M&&d&&(d.v||d.list)?y.context.D.zX(d.v,l,d.list,!1):g.uG(R||"",H==="current"?"_top":void 0,l)};
H==="new"&&(b(),b=null);R5(this.context.logger,m,b,T);$Ls(R)||(m=g.KU(),T=l.itct,m&&T&&g.iT(m,g.Fd(T)))}};
g.Z.sL=function(){this.tM.clear();this.Mj.clear();g.k.prototype.sL.call(this)};
g.Z.createElement=function(a){a=new g.x(a);g.w(this,a);return a.element};g.W(fUd,xs);g.Z=fUd.prototype;g.Z.xW=function(){this.lT&&UT(this,this.lT)};
g.Z.isAvailable=function(){var a;if(a=!!this.cards.length)(a=this.D.getRootNode())?(a=g.Uh(a),a=173<a.width&&173<a.height):a=!1;return a};
g.Z.b5=function(){var a=this.isAvailable();g.r8(this.hN(),a);g.AM(this.context.D.getRootNode(),g.rP.IV_DRAWER_ENABLED,a);tT(this.D)};
g.Z.destroy=function(){this.D.ym(!1);try{this.D.getRootNode().removeChild(this.j)}catch(a){}g.MQ(this.Ij);g.$H(this.AM);this.St&&this.St.dispose();this.K&&this.K.dispose();xs.prototype.destroy.call(this)};
g.Z.qB=function(){var a=this;this.context.T.listen(g.ud("iv-drawer-close-button",this.j),"click",this.OV,this);this.context.T.listen(this.L,"touchend",function(){a.qj.start()});
this.context.T.listen(this.L,"scroll",this.Mk,this);this.context.L.subscribe("onHideControls",function(){a.Cx=!0});
this.context.L.subscribe("onShowControls",function(){a.Cx=!1});
this.context.L.subscribe("onVideoAreaChange",function(){a.Cx=g.gK(a.D.getRootNode(),"ytp-autohide")});
this.Ij.push(g.g6("iv-button-shown",this.yW,this));this.Ij.push(g.g6("iv-button-hidden",this.G$,this));CJI(this)};
g.Z.findLastIndex=function(a){if(this.cards.length===0)return 0;var l=g.V5(this.cards,function(m){return a.MA.startMs>m.MA.startMs||a.MA.startMs===m.MA.startMs&&a.MA.timestamp>=m.MA.timestamp?!0:!1});
return l===-1?0:l+1};
g.Z.OV=function(){if(this.Z){R5(this.context.logger,mh(this).s9.close);var a=g.KU();a&&this.B&&g.iT(a,this.B);Ys(this)}};
g.Z.Mk=function(){g.AM(this.j,"iv-drawer-scrolled",this.L.scrollTop>0)};
g.Z.yW=function(){var a=g.KU(),l=mh(this);l=l?l.zt:this.zt;a&&l&&g.gx(a,[l])};
g.Z.G$=function(){var a=g.KU(),l=mh(this);l=l?l.zt:this.zt;a&&l&&g.MX(a,[l])};
g.Z.PW=function(){var a=mh(this);R5(this.context.logger,a.s9.E3);var l=g.KU();if(l&&a)if(this.D.V("web_infocards_teaser_show_logging_fix")){var m=[];a.Qy&&m.push(a.Qy);a.zt&&m.push(a.zt);m.length>0&&g.gx(l,m)}else g.gx(l,[a.Qy,a.zt])};
g.Z.Nb=function(){var a=g.KU(),l=mh(this);a&&l&&g.MX(a,[l.Qy])};
g.Z.My=function(a){var l=mh(this),m=g.KU();this.T?a?(a=this.context.logger,R5(a,l.s9.yv),a.D.sendVideoStatsEngageEvent(4,void 0),m&&l.Qy&&g.iT(m,l.Qy)):(a=this.context.logger,R5(a,l.s9.yv),a.D.sendVideoStatsEngageEvent(4,void 0),m&&l.zt&&g.iT(m,l.zt)):(a=this.context.logger,R5(a,l.s9.yv),a.D.sendVideoStatsEngageEvent(4,void 0),m&&this.zt&&g.iT(m,this.zt))};g.W(T5,xs);T5.prototype.JY=function(){xs.prototype.JY.call(this);YeI(this)};
T5.prototype.show=function(){xs.prototype.show.call(this);var a=g.KU(),l=this.annotation.data;a&&l&&(l=l.session_data)&&g.gx(a,[g.Fd(l.itct)])};
T5.prototype.hide=function(){xs.prototype.hide.call(this);var a=g.KU(),l=this.annotation.data;a&&l&&(l=l.session_data)&&g.MX(a,[g.Fd(l.itct)])};g.W(y2,T5);
y2.prototype.show=function(){if(!this.isActive){T5.prototype.show.call(this);if(!this.B){g.M$(this.hN(),"iv-branding");var a=this.annotation.data;this.L=this.createElement({U:"img",uT:["branding-img","iv-click-target"],G:{"aria-label":"Marca de agua del canal",src:a.image_url,width:a.image_width,height:a.image_height}});g.r8(this.L,!1);var l=this.createElement({U:"button",uT:["branding-img-container","ytp-button"]});l.appendChild(this.L);this.hN().appendChild(l);var m=this.annotation.eb();m&&Du(this,
l,m,this.annotation.id,a.session_data);this.context.D.V("disable_branding_context")||l5c(this,a);this.B=!0}g.r8(this.hN(),!0);this.isActive=!0;if(this.L){try{ULB(this,this.L)}catch(T){}g.M$(this.context.D.getRootNode(),"ytp-branding-shown");this.context.D.getRootNode().style.setProperty("--branding-image-width",this.L.getAttribute("width")+"px")}}};
y2.prototype.hide=function(){this.isActive&&(T5.prototype.hide.call(this),g.r8(this.hN(),!1),this.isActive=!1,g.dK(this.context.D.getRootNode(),"ytp-branding-shown"))};
y2.prototype.destroy=function(){this.T&&(this.T.dispose(),this.T=null);g.dK(this.context.D.getRootNode(),"ytp-branding-shown");T5.prototype.destroy.call(this)};g.W(TaV,T5);g.Z=TaV.prototype;g.Z.show=function(){this.isActive||(T5.prototype.show.call(this),this.N||(R$s(this),this.N=!0),g.r8(this.hN(),!0),g.wX(function(){g.dK(this.hN(),"iv-promo-inactive")},100,this),this.hN().removeAttribute("aria-hidden"),this.isActive=!0,g25(this),Hv9(this),qMr(this,this.C))};
g.Z.hide=function(){this.isActive&&(g.M$(this.hN(),"iv-promo-inactive"),this.isActive=!1,this.hN().setAttribute("aria-hidden","true"))};
g.Z.b_=function(a,l,m,T,y,R){return this.isCollapsed?!1:T5.prototype.b_.call(this,a,l,m,T,y,R)};
g.Z.pj=function(a){this.J=!0;yKs(this,500,a)};
g.Z.J8=function(){this.J=!1;bv5(this)};
g.Z.Bs=function(a){a.stopPropagation();this.hide()};
g.Z.bz=function(a){a.stopPropagation();g25(this);this.isCollapsed=!0;g.M$(this.hN(),"iv-promo-collapsed-no-delay");this.K.start()};
g.Z.destroy=function(){this.K.dispose();T5.prototype.destroy.call(this)};g.W(iv9,g.P3);g.Z=iv9.prototype;g.Z.N6=function(a,l){if(!e$V(this.player.Y().playerStyle))return null;switch(a){case "loadCustomAnnotationsXml":return(a=g.Dp(l))&&GLD(this,a),!0;case "removeCustomAnnotationById":return l&&this.T&&(nFs(this.T,l),tT(this.player)),!0}return null};
g.Z.getOptions=function(){return e$V(this.player.Y().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.Z.Kp=function(){var a=this.player.Y(),l=g.B(this.player.getVideoData()),m=a.annotationsLoadPolicy||l.annotationsLoadPolicy;return g.Tl(l)||this.player.isMutedByEmbedsMutedAutoplay()?!1:m===1&&!l.SQ||a.Cx.get(l.videoId)||g.SD(l)||g.fK(l)?!0:!1};
g.Z.VZ=function(){if(this.Z){var a=this.player.cz().getVideoContentRect(!0);g.Y1(this.Z.element,a.width,a.height);g.x1(this.Z.element,a.left,a.top)}if(this.T){var l=this.player.KH();a=this.T;l=l.width;g.AM(a.j,"iv-drawer-small",l<=426);g.AM(a.j,"iv-drawer-big",l>=1280)}};
g.Z.rM=function(a){jfX(this,a.state);g.u(a.state,2)&&(this.yy()&&this.Xg()&&this.player.getPresentingPlayerType()!==2&&this.N3(!1),this.ym(!1))};
g.Z.load=function(){function a(H){var b=l.loadNumber;l.K=null;l.loaded&&l.loadNumber===b&&l.player.getVideoData().videoId===T&&(H=g.py(H)&&H.responseXML?H.responseXML:null)&&(GLD(l,H),g.M$(l.player.getRootNode(),"iv-module-loaded"))}
var l=this;g.P3.prototype.load.call(this);jfX(this,this.player.getPlayerStateObject());this.loadNumber++;var m=g.B(this.player.getVideoData()),T=m.videoId;g.R$()&&(a=Vps(this,a));var y={format:"XML",onFinish:a,onError:function(){l.K=null},
urlParams:{}};m.isPharma&&(y.urlParams.pharma="1");y.method="POST";y.withCredentials=!0;var R=this.player.Y().Cx.get(T);R&&p0d(y,R);R=R&&(R.ra||R.fM);if(!m.oR||R)m.AM?AKg(this,m.AM,y):(this.B=function(){if(!l.J)l.onVideoDataChange(y);var H=g.B(l.player.getVideoData());(H==null?0:g.sn(H))&&!l.Ij&&LCX(l,H)},this.player.addEventListener("videodatachange",this.B));
g.fq(this.player,this.Z.element,4);this.VZ();(R=g.SD(m))&&cKr(this,R);(R=g.fK(m))&&R.featuredChannel&&tpd(this,R.featuredChannel,R.annotationId||"branding",m.videoId||null,m.eventId||null);this.Zq=g.ud("ytp-cards-button",this.player.getRootNode());g.sn(m)&&LCX(this,m)};
g.Z.onVideoDataChange=function(a){var l=g.B(this.player.getVideoData());l.AM&&AKg(this,l.AM,a)};
g.Z.unload=function(){this.player.FJ("annotations_module");for(var a=g.c(Object.keys(this.C)),l=a.next();!l.done;l=a.next())this.C[l.value].destroy();this.N=null;this.T&&(this.T.destroy(),this.T=null,tT(this.player));this.J=!1;this.K&&(this.K.abort(),this.K=null);this.Ij=!1;this.C={};this.L.hide();g.P3.prototype.unload.call(this);this.Z.detach();this.B&&(this.player.removeEventListener("videodatachange",this.B),this.B=null)};
g.Z.Vo=function(a){a===this.player.getVideoData().videoId&&(this.loaded?Zv_(this):this.load())};
g.Z.yy=function(){var a;return((a=this.T)==null?void 0:a.isAvailable())||this.Ij};
g.Z.Xg=function(){return!!this.T&&this.T.Z};
g.Z.N3=function(a,l,m){l=l===void 0?!1:l;this.yy();this.T&&(a?m?XD(this.T,m,l):XD(this.T,"YOUTUBE_DRAWER_AUTO_OPEN",l):Ys(this.T))};
g.Z.ym=function(a,l){this.player.publish(a?"cardsteasershow":"cardsteaserhide",l)};
g.Z.sL=function(){this.player.Y().Cx.unsubscribe("vast_info_card_add",this.Vo,this);g.dK(this.player.getRootNode(),g.rP.IV_DRAWER_OPEN);for(var a=this.lT,l=g.Ed,m=0,T=a.length;m<T;m++)l.ac(a[m]);this.lT.length=0;g.P3.prototype.sL.call(this)};
g.Z.createElement=function(a){a=new g.x(a);g.w(this,a);return a.element};g.AO("annotations_module",iv9);g.AO("creatorendscreen",HVV);})(_yt_player);
