(function(g){var window=this;'use strict';var jL5=function(a,l){if(!Number.isFinite(a))return String(a);a=String(a);var m=a.indexOf(".");m===-1&&(m=a.length);var T=a[0]==="-"?"-":"";T&&(a=a.substring(1));return T+(0,g.czV)("0",Math.max(0,l-m))+a},AAs=function(){return{U:"svg",
G:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},X:[{U:"path",G:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},PfB=function(){return{U:"svg",
G:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},X:[{U:"path",G:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},V6g=function(a){typeof a==="number"?(this.date=Gor(a,0,1),cm(this,1)):g.ms(a)?(this.date=Gor(a.getFullYear(),a.getMonth(),a.getDate()),cm(this,a.getDate())):(this.date=new Date(g.bV()),a=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),cm(this,a))},Gor=function(a,l,m){l=new Date(a,l,m);
a>=0&&a<100&&l.setFullYear(l.getFullYear()-1900);return l},cm=function(a,l){a.getDate()!=l&&a.date.setUTCHours(a.date.getUTCHours()+(a.getDate()<l?1:-1))},LE=function(a,l){g.Cq.call(this,a,{U:"div",
S:"ytp-reminder-menu",G:{role:"menu",tabindex:"-1"},X:[{U:"div",S:"ytp-reminder-menu-contents",X:[{U:"div",S:"ytp-reminder-menu-items"}]}]},100,!0);this.T=l;this.Z=[];this.menuPopupRenderer=void 0;this.items=this.OL("ytp-reminder-menu-items");this.hide()},pND=function(a){return(a.menuPopupRenderer&&a.menuPopupRenderer.items||[]).reduce(function(l,m){m&&m.menuServiceItemRenderer&&l.push(m.menuServiceItemRenderer);
return l},[])},NY=function(a){g.x.call(this,{U:"div",
X:[{U:"button",uT:["ytp-offline-slate-button","ytp-button"],X:[{U:"div",S:"ytp-offline-slate-button-icon",Lx:"{{icon}}"},{U:"div",S:"ytp-offline-slate-button-text",Lx:"{{text}}"}]}]});this.D=a;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.L=void 0;this.j=this.T=null;(this.C=this.OL("ytp-offline-slate-button"))&&this.W(this.C,"click",this.B);this.hide()},WdI=function(a,l,m){!a.toggleButtonRenderer&&l&&l.toggleButtonRenderer?a.toggleButtonRenderer=l.toggleButtonRenderer:
l&&l.toggleButtonRenderer||(a.toggleButtonRenderer=null);
!a.upcomingEventReminderButtonRenderer&&m&&g.I(m,ZM5)?a.upcomingEventReminderButtonRenderer=g.I(m,ZM5):m&&g.I(m,ZM5)||(a.upcomingEventReminderButtonRenderer=null);QC(a)},QC=function(a){if(a.toggleButtonRenderer){var l=a.toggleButtonRenderer;
if(l.isToggled){var m=l.toggledText?g.Lj(l.toggledText):"";a.update({text:m,icon:cAc(l.toggledIcon)})}else m=l.defaultText?g.Lj(l.defaultText):"",a.update({text:m,icon:cAc(l.defaultIcon)});a.show()}else a.upcomingEventReminderButtonRenderer?(l=LdV(a))?(m=l.text?g.Lj(l.text):"",a.update({text:m,icon:cAc(l.icon)}),a.show()):a.hide():a.hide()},QLI=function(a,l,m){a.j||(a.j=new g.TG(a.D.Y().tO));
var T={context:g.Pj(a.j.config_||g.AJ())};g.KU()&&(T.context.clientScreenNonce=g.KU());T.params=m;g.yM(a.j,l,T,{timeout:5E3,onSuccess:function(){a.upcomingEventReminderButtonRenderer&&a.L&&(a.upcomingEventReminderButtonRenderer.currentState=a.L,a.L=void 0)},
onError:function(){Ntr(a)},
onTimeout:function(){Ntr(a)}})},Ntr=function(a){a.toggleButtonRenderer?(a.toggleButtonRenderer.isToggled=!a.toggleButtonRenderer.isToggled,QC(a)):a.upcomingEventReminderButtonRenderer&&(a.L=void 0,QC(a))},cAc=function(a){if(!a)return null;
switch(a.iconType){case "NOTIFICATIONS":return AAs();case "NOTIFICATIONS_NONE":return PfB();case "NOTIFICATIONS_ACTIVE":return g.Kj();default:return null}},LdV=function(a){if(!a.upcomingEventReminderButtonRenderer)return null;
var l=a.L||a.upcomingEventReminderButtonRenderer.currentState;a=g.c(a.upcomingEventReminderButtonRenderer.states||[]);for(var m=a.next();!m.done;m=a.next())if((m=g.I(m.value,t6s))&&m.state===l&&m.button&&g.I(m.button,g.nl))return g.I(m.button,g.nl);return null},e_X=function(a){g.x.call(this,{U:"div",
S:"ytp-offline-slate",X:[{U:"div",S:"ytp-offline-slate-background"},{U:"div",S:"ytp-offline-slate-bar",X:[{U:"span",S:"ytp-offline-slate-icon",X:[{U:"svg",G:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},X:[{U:"path",G:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{U:"circle",G:{cx:"12",cy:"12",r:"3"}}]}]},{U:"span",S:"ytp-offline-slate-messages",X:[{U:"div",S:"ytp-offline-slate-main-text",G:{"aria-label":"{{label}}"},Lx:"{{mainText}}"},{U:"div",S:"ytp-offline-slate-subtitle-text",Lx:"{{subtitleText}}"}]},{U:"span",S:"ytp-offline-slate-buttons"}]},{U:"button",uT:["ytp-offline-slate-close-button","ytp-button"],X:[g.eN()]},{U:"button",uT:["ytp-offline-slate-open-button","ytp-button"],X:[g.tj()]}]});var l=this;this.api=a;this.T=this.L=null;this.background=this.OL("ytp-offline-slate-background");
this.Z=this.OL("ytp-offline-slate-bar");this.C=new g.aH(function(){g.M$(l.Z,"ytp-offline-slate-bar-fade")},15E3);
this.B=!1;this.j=new g.aH(function(){g.M$(l.element,"ytp-offline-slate-collapsed")},15E3);
g.w(this,this.j);g.w(this,this.C);this.countdownTimer=new g.aH(this.rC,1E3,this);this.W(a,"presentingplayerstatechange",this.GK);this.W(a,"livestatedata",this.k8);this.W(this.OL("ytp-offline-slate-close-button"),"click",function(){g.M$(l.element,"ytp-offline-slate-collapsed")});
this.W(this.OL("ytp-offline-slate-open-button"),"click",function(){g.dK(l.element,"ytp-offline-slate-collapsed")});
this.hide();a=this.getVideoData();a.getPlayerResponse()&&(a=g.B(a.getPlayerResponse()).playabilityStatus)&&this.k8(a);a=this.api.getPresentingPlayerType()===8&&!this.getVideoData().Z$;var m=this.api.getPresentingPlayerType()===8;g.AM(this.element,"ytp-offline-slate-premiere-trailer",a);g.AM(this.element,"ytp-offline-slate-hide-background",m)},Fdn=function(a,l,m){if(l){var T=l.subtitleText!=null?g.Lj(l.subtitleText):"";
m=m?m:l.mainText!=null?g.Lj(l.mainText):"";var y,R,H,b;l=(b=(y=l.mainText)==null?void 0:(R=y.accessibility)==null?void 0:(H=R.accessibilityData)==null?void 0:H.label)!=null?b:m;a.update({mainText:m,subtitleText:T,label:l});g.AM(a.element,"ytp-offline-slate-single-text-line",!T);g.AM(a.Z,"ytp-offline-slate-bar-hidden",!m&&!T)}},tx=function(a,l){var m=(0,g.E)();
this.trigger=a;this.T=l;this.Z=m},$Ir=function(a){g.P3.call(this,a);
var l=this;this.B=!1;this.J=0;this.K=!1;this.L=new g.aH(function(){h_V(l)},0);
this.T=this.heartbeatParams=null;this.j=!1;this.C=new g.w9(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.Ij=new g.TG(void 0);this.attestationResponse=Promise.resolve(void 0);this.N=Promise.resolve(void 0);this.utcOffsetMinutes=-(new V6g).getTimezoneOffset();this.Z=new g.BT(this);g.w(this,this.L);g.w(this,this.Z);OM5(this);KdB(this);this.Z.W(a,"heartbeatparams",this.kO);this.Z.W(a,"presentingplayerstatechange",this.Od);this.Z.W(a,"videoplayerreset",this.i6);this.Z.W(a,g.qm("heartbeat"),
this.onCueRangeEnter);this.j&&this.T&&z_D(this,void 0,this.T);var m=new g.Rq(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),T=new g.Rq(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});a.d7([m,T]);vU9(this)},vU9=function(a){var l=a.getVideoData();
!l.V("use_rta_for_player")&&l.zz&&(l=l.botguardData)&&g.Ea(l,a.player.Y())},sLd=function(a){var l,m;
return g.J(function(T){if(T.L==1)return g.z(T,g.cmH(),2);if(!T.T)return a.sequenceNumber>=3?T.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):T.return(void 0);l=a.getVideoData();m={};return T.return(g.WPd((m.cpn=l.clientPlaybackNonce,m.encryptedVideoId=l.videoId||"",m),1500))})},OM5=function(a){var l=a.getVideoData();
if(l.zz)if(l.V("use_rta_for_player"))a.attestationResponse=sLd(a);else if(l=new g.KKP(l),g.wP.isInitialized()||a.sequenceNumber>=3){var m=Promise,T=m.resolve,y=null;if(l.videoData.Bv){var R=g.zfz(l);if(R){y={};var H={};R=R.split("&");R=g.c(R);for(var b=R.next();!b.done;b=R.next())b=b.value.split("="),b.length===2&&(H[b[0]]=b[1]);H.r1a&&(y.webResponse=H.r1a);H.r1c&&(y.error=Si_[Number(H.r1c)]);y.challenge=l.videoData.Bv}}a.attestationResponse=T.call(m,y||void 0)}},f8s=function(a){var l=a.getVideoData();
if(!g.LK(a.getVideoData())||l.wZ)return!1;if(l.K){a=l.K.flavor==="playready"&&l.V("html5_innertube_heartbeats_for_playready");var m=l.K.flavor==="widevine"&&l.V("html5_innertube_heartbeats_for_widevine");l=g.Yi(l.K)&&l.V("html5_innertube_heartbeats_for_fairplay");return!(a||m||l)}return!0},JAX=function(a){if(f8s(a))return!!a.heartbeatParams;
var l=a.getVideoData();return!g.LK(a.getVideoData())||l.Mg||l.Jl?!!l.heartbeatToken:!1},e1=function(a,l){if(!a.L.isActive()&&a.B){var m=a.getVideoData();
if(JAX(a)||m.isLivePlayback){if(l===void 0)if(a.K)if(a.j)l=7500;else{var T;l=((T=a.heartbeatParams)==null?0:T.interval)?a.heartbeatParams.interval*1E3:a.getVideoData().di||6E4}else l=1E3;a.L.start(l)}}},wNB=function(a,l,m){l.YR&&(m=g.S$(m,{internalipoverride:l.YR}));
var T={cpn:l.clientPlaybackNonce};l.contextParams&&(T.context_params=l.contextParams);l.Eg&&(T.kpt=l.Eg);m=g.S$(m,T);g.OZ(m,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(y){if(!a.L.isActive()&&Fo(a)){a.C.reset();a.sequenceNumber++;y=y.responseText;var R=BtF(y);if(R){a.player.Pz("onHeartbeat",R);var H=R.status==="ok"?R.stop_heartbeat?2:0:R.status==="stop"?1:R.status==="live_stream_offline"?0:-1}else H=(H=y.match(kog))?H[1]==="0"?0:1:-1;nUX(a,void 0,R,y,H)}},
onError:function(y){Fo(a)&&hx(a,!0,"net-"+y.status)},
onTimeout:function(){Fo(a)&&hx(a,!0,"timeout")},
withCredentials:!0})},h_V=function(a){var l,m;
g.J(function(T){l=a.player.Y();m=a.getVideoData();if(!Fo(a))return T.return();if(f8s(a))return I85(a,l,m),T.iT(0);OM5(a);return g.z(T,Cf9(a,l,m),0)})},I85=function(a,l,m){var T;
if((T=a.heartbeatParams)!=null&&T.url){var y=g.S$(a.heartbeatParams.url,{request_id:g.Le7()});m.qj&&(y=g.S$(y,{vvt:m.qj}),m.mdxEnvironment&&(y=g.S$(y,{mdx_environment:m.mdxEnvironment})));g.b1(l,m.oauthToken).then(function(R){R&&(y=g.S$(y,{access_token:R}));wNB(a,m,y)})}},Fo=function(a){var l=a.getVideoData();
return a.player.getPresentingPlayerType()===3||g.u(a.player.getPlayerStateObject(a.getPlayerType()),4)?!1:JAX(a)||l.isLivePlayback?!0:(Om(a),!1)},Cf9=function(a,l,m){var T,y,R,H,b,M,d,A,P,G,V,p,L,N,e,t,v,S,n,X;
return g.J(function(D){if(D.L==1)return T="player/heartbeat",R={videoId:m.videoId,sequenceNumber:a.sequenceNumber,heartbeatServerData:(y=a.lT)!=null?y:m.heartbeatServerData},a.N=a.attestationResponse,m.zz?g.z(D,a.N,3):D.iT(2);D.L!=2&&(R.attestationResponse=D.T);H=g.bb(m);M=(b=H.client)!=null?b:{};M.utcOffsetMinutes=a.utcOffsetMinutes;R.context=H;R.cpn=m.clientPlaybackNonce;if(d=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)M.timeZone=d;A={heartbeatChecks:[]};
if(P=m.getPlayerResponse())m.heartbeatToken&&(R.heartbeatToken=m.heartbeatToken),(G=P.playabilityStatus)&&(V=G.liveStreamability)&&V.liveStreamabilityRenderer&&A.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");m.heartbeatToken&&A.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.Fm(l)&&(A.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),p=EUs(a),L={},p!==null&&(L.clientPlayerPositionUtcMillis=p),e=(N=a.player.iZ())==null?void 0:g.F5(N),v=((t=e)==null?void 0:t.freePreviewWatchedDuration)||
0,v>0&&(L.freePreviewWatchedDuration={seconds:""+v}),A.unpluggedParams=L);R.heartbeatRequestParams=A;m.isLivePlayback?(S=EUs(a),S!==null&&(R.playbackState||(R.playbackState={}),R.playbackState.playbackPosition={utcTimeMillis:S})):l.V("enable_heartbeat_vod_playback_position")&&(n=oU5(a),n!==null&&(R.playbackState||(R.playbackState={}),R.playbackState.playbackPosition={streamTimeMillis:n}));a.player.publish("heartbeatRequest",R);X={timeout:3E4,onSuccess:function(yp){if(!a.L.isActive()&&Fo(a)){var H5=
a.getVideoData(),ad=H5.zz&&a.N==null,Md;H5.zz=!((Md=yp.heartbeatAttestationConfig)==null||!Md.requiresAttestation)||ad;ad=yp.playabilityStatus;Md=JSON.stringify(ad)||"{}";yp.authenticationMismatch&&a.player.Tu("authshear",{});var U=-1;var Nd=yp.playabilityStatus;Nd&&(a.player.Pz("onHeartbeat",Nd),Nd.status==="OK"?U=yp.stopHeartbeat?2:0:Nd.status==="UNPLAYABLE"?U=1:Nd.status==="LIVE_STREAM_OFFLINE"&&(U=0));a.sequenceNumber&&U===-1||a.C.reset();a.sequenceNumber++;yp.heartbeatServerData&&(a.lT=yp.heartbeatServerData);
H5.p9=yp;(Nd=yp.playerCueRangeSet)&&g.aY(H5,Nd);yp.playerCueRanges&&yp.playerCueRanges.length>0&&(H5.cueRanges=yp.playerCueRanges);var hz,EQ;((hz=yp.progressBarConfig)==null?0:hz.progressBarStartPosition)&&((EQ=yp.progressBarConfig)==null?0:EQ.progressBarEndPosition)&&(H5.progressBarStartPosition=yp.progressBarConfig.progressBarStartPosition,H5.progressBarEndPosition=yp.progressBarConfig.progressBarEndPosition);H5.compositeLiveIngestionOffsetToken=yp.compositeLiveIngestionOffsetToken;yp.compositeLiveStatusToken!==
H5.compositeLiveStatusToken&&(H5.compositeLiveStatusToken=yp.compositeLiveStatusToken);H5.publish("dataupdated");nUX(a,yp,ad,Md,U)}},
onError:function(yp){Fo(a)&&hx(a,!0,"net-"+yp.status)},
onTimeout:function(){Fo(a)&&hx(a,!0,"timeout")}};
g.b1(l,g.wn(m)).then(function(yp){yp&&(X.gx="Bearer "+yp);g.yM(a.Ij,T,R,X)});
g.c5(D)})},nUX=function(a,l,m,T,y){y===-1?(m="decode "+g.yT(T,3),hx(a,!1,m)):y===2?(Om(a),a.K=!0):(a.J=0,a.L.stop(),y===1?(a.K=!1,m&&m.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&a.player.JO(!0),y="pe."+(m==null?void 0:m.errorCode)+";ps."+(m==null?void 0:m.status),a.player.jd("heartbeat.stop",2,a.La(T),y),g.js("heartbeatActionPlayerHalted",xIn(m)),(l==null?0:l.videoTransitionEndpoint)&&m&&(l=l.videoTransitionEndpoint,(T=g.I(l,g.m3))&&DI9(a,T,m,{itct:l==null?void 0:l.clickTrackingParams}))):(a.K=
!0,T=0,a.j&&m&&(T=z_D(a,l,m),a.player.publish("livestatedata",m)),T?e1(a,T):e1(a)))},z_D=function(a,l,m){var T=m.liveStreamability&&m.liveStreamability.liveStreamabilityRenderer,y=!(!T||!(T.switchStreamsImmediately||T.transitionTiming&&T.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
l=u6s(a,l,T);var R=a.getVideoData(),H=a.player.getPlayerStateObject(a.getPlayerType()),b=H.isPlaying()&&!g.On(R)&&!a.player.isAtLiveHead(a.getPlayerType());if(R.Y().bZ()){var M,d=((M=a.player.TE())==null?void 0:M.rW())||{};d.status=m.status||"";d.dvr=""+ +b;d["switch"]=""+ +y;d.ended=""+ +!(!T||!T.displayEndscreen);a.player.Tu("heartbeat",d)}M=a.player.V("always_cache_redirect_endpoint");if(b&&!y&&!M)return l;d=T&&T.streamTransitionEndpoint&&g.I(T.streamTransitionEndpoint,g.m3);var A=T&&T.transitionTiming;
if(A==="STREAM_TRANSITION_TIMING_AT_STREAM_END")a.getVideoData().transitionEndpointAtEndOfStream=d;else if(M&&!d&&a.getVideoData().transitionEndpointAtEndOfStream)a.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!M&&d&&DI9(a,d,m))return l;if(b&&!y&&M||M&&d&&(A==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||A==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&DI9(a,d,m))return l;if(m.status.toUpperCase()==="OK"){y=T&&T.broadcastId;b=a.T&&a.T.liveStreamability&&a.T.liveStreamability.liveStreamabilityRenderer&&
a.T.liveStreamability.liveStreamabilityRenderer.broadcastId;M=y!==b&&y!=null;if(!g.eD(R)||M){var P={video_id:R.videoId};R.dI&&(P.is_live_destination="1");P.disable_watch_next=!0;P.raw_watch_next_response=R.getWatchNextResponse();P.autonav_state=R.autonavState;P.oauth_token=R.oauthToken;P.Fx=R.Fx;R.C&&(P.vss_credentials_token=R.C,P.vss_credentials_token_type=R.P7);R.qj&&(P.vvt=R.qj);T=void 0;g.eD(R)?M&&(T=new tx("broadcastIdChanged",b+","+y),a.Sf("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
m)):(y&&(T=new tx("formatsReceived",""+y)),a.Sf("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",m));a.player.loadVideoByPlayerVars(P,void 0,void 0,void 0,T);return l}a.player.IY("heartbeat",a.getPlayerType())}T&&T.displayEndscreen&&(a.offlineSlate?(a=a.offlineSlate,a.B=!0,a.I0&&a.api.lJ()):H.isBuffering()&&(R=((P=a.player.TE())==null?void 0:P.rW())||{},a.player.Tu("hbse",R,!0),a.player.lJ(),a.player.Pz("onLiveMediaEnded",m)));return l},u6s=function(a,
l,m){return a.player.V("web_player_use_heartbeat_poll_delay_ms")&&(a=Number(l==null?void 0:l.pollDelayMs))?a:(m=Number(m==null?void 0:m.pollDelayMs))?m:0},hx=function(a,l,m){var T=a.player.Y();
if(!a.L.isActive()){a.L.stop();a.J++;var y=l?"heartbeat.net":"heartbeat.servererror";var R=a.getVideoData();if(R.II||l&&!g.LK(a.getVideoData())&&!JAX(a)&&R.isLivePlayback)R=!1;else{var H,b;((b=a.heartbeatParams)==null?0:b.retries)?H=a.heartbeatParams.retries:H=R.nV||5;R=a.J>=H}R?(g.js("heartbeatActionPlayerHalted",l?{enforcedPolicyToHaltOnNetworkFailure:!0}:xIn()),(l=a.getVideoData())&&l.isLivePlayback?a.player.jd(y,1,"Se interrumpi\u00f3 la reproducci\u00f3n del video. Vuelve a intentarlo.",m):a.player.jd(y,
1,"Se produjo un error de licencia con este video.",m)):(T.V("html5_report_non_fatal_heartbeat_error")&&a.player.Mx(y,{msg:m}),e1(a,a.C.getValue()),g.I3(a.C))}},xIn=function(a){var l={enforcedPolicyToHaltOnNetworkFailure:!1};
a&&(l.serializedServerContext=a.additionalLoggingData);return l},Om=function(a){a.J=0;
a.L.stop();a.K=!1;a.sequenceNumber=0},KdB=function(a){var l=a.getVideoData(),m=a.player.Y();
if(l.isLivePlayback)if(g.g1(m.K)){a.j=!0;a.B=!0;if(!g.OF(m)||g.Fm(m))a.offlineSlate=new e_X(a.player),g.w(a,a.offlineSlate),g.fq(a.player,a.offlineSlate.element,4);(l=l.getPlayerResponse())&&l.playabilityStatus&&(a.T=l.playabilityStatus);var T;((T=a.T)==null?void 0:T.status)!=="UNPLAYABLE"&&(a.T?(T=u6s(a,void 0,a.T.liveStreamability&&a.T.liveStreamability.liveStreamabilityRenderer))?e1(a,T):e1(a,7500):e1(a,1E3))}else a.player.jd("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.pD(l.lT,"heartbeat")&&a.player.IY("heartbeat",a.getPlayerType())},DI9=function(a,l,m,T){var y=l&&l.videoId;
return y?(a.player.zX(y,Object.assign({},{autonav:"1"},T||{}),void 0,!0,!0,l,g.wn(a.getVideoData())),a.Sf("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",m),!0):!1},EUs=function(a){return(a=a.player.getProgressState(a.getPlayerType()).ingestionTime)&&isFinite(a)?""+Math.floor(a*1E3):null},oU5=function(a){return(a=a.player.getCurrentTime(a.getPlayerType()))&&isFinite(a)?""+Math.floor(a*1E3):null},BtF=function(a){try{var l=JSON.parse(a);
return l!=null?l:void 0}catch(m){}},XNI={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
XNI={ERAS:["a.C.","d.C."],ERANAMES:["antes de Cristo","despu\u00e9s de Cristo"],NARROWMONTHS:"EFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"EFMAMJJASOND".split(""),MONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),STANDALONEMONTHS:"enero febrero marzo abril mayo junio julio agosto septiembre octubre noviembre diciembre".split(" "),SHORTMONTHS:"ene feb mar abr may jun jul ago sept oct nov dic".split(" "),STANDALONESHORTMONTHS:"ene feb mar abr may jun jul ago sept oct nov dic".split(" "),
WEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),STANDALONEWEEKDAYS:"domingo lunes martes mi\u00e9rcoles jueves viernes s\u00e1bado".split(" "),SHORTWEEKDAYS:"dom lun mar mi\u00e9 jue vie s\u00e1b".split(" "),STANDALONESHORTWEEKDAYS:"dom lun mar mi\u00e9 jue vie s\u00e1b".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),SHORTQUARTERS:["T1","T2","T3","T4"],QUARTERS:["1.\u00ba trimestre","2.\u00ba trimestre","3.\u00ba trimestre",
"4.\u00ba trimestre"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d 'de' MMMM 'de' y","d 'de' MMMM 'de' y","d MMM y","d/M/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1}, {0}","{1}, {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
var Si_=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],Yi5={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.Z=V6g.prototype;g.Z.NJ=XNI.FIRSTDAYOFWEEK;g.Z.nT=XNI.FIRSTWEEKCUTOFFDAY;
g.Z.clone=function(){var a=new V6g(this.date);a.NJ=this.NJ;a.nT=this.nT;return a};
g.Z.getFullYear=function(){return this.date.getFullYear()};
g.Z.getYear=function(){return this.getFullYear()};
g.Z.getMonth=function(){return this.date.getMonth()};
g.Z.getDate=function(){return this.date.getDate()};
g.Z.getTime=function(){return this.date.getTime()};
g.Z.getDay=function(){return this.date.getDay()};
g.Z.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.Z.getUTCMonth=function(){return this.date.getUTCMonth()};
g.Z.getUTCDate=function(){return this.date.getUTCDate()};
g.Z.getUTCDay=function(){return this.date.getDay()};
g.Z.getUTCHours=function(){return this.date.getUTCHours()};
g.Z.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.Z.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.Z.set=function(a){this.date=new Date(a.getFullYear(),a.getMonth(),a.getDate())};
g.Z.setFullYear=function(a){this.date.setFullYear(a)};
g.Z.setYear=function(a){this.setFullYear(a)};
g.Z.setMonth=function(a){this.date.setMonth(a)};
g.Z.setDate=function(a){this.date.setDate(a)};
g.Z.setTime=function(a){this.date.setTime(a)};
g.Z.setUTCFullYear=function(a){this.date.setUTCFullYear(a)};
g.Z.setUTCMonth=function(a){this.date.setUTCMonth(a)};
g.Z.setUTCDate=function(a){this.date.setUTCDate(a)};
g.Z.add=function(a){if(a.years||a.months){var l=this.getMonth()+a.months+a.years*12,m=this.getYear()+Math.floor(l/12);l%=12;l<0&&(l+=12);a:{switch(l){case 1:var T=m%4!=0||m%100==0&&m%400!=0?28:29;break a;case 5:case 8:case 10:case 3:T=30;break a}T=31}T=Math.min(T,this.getDate());this.setDate(1);this.setFullYear(m);this.setMonth(l);this.setDate(T)}a.days&&(m=this.getYear(),l=m>=0&&m<=99?-1900:0,a=new Date((new Date(m,this.getMonth(),this.getDate(),12)).getTime()+a.days*864E5),this.setDate(1),this.setFullYear(a.getFullYear()+
l),this.setMonth(a.getMonth()),this.setDate(a.getDate()),cm(this,a.getDate()))};
g.Z.equals=function(a){return!(!a||this.getYear()!=a.getYear()||this.getMonth()!=a.getMonth()||this.getDate()!=a.getDate())};
g.Z.toString=function(){var a=this.getFullYear(),l=a<0?"-":a>=1E4?"+":"";return[l+jL5(Math.abs(a),l?6:4),jL5(this.getMonth()+1,2),jL5(this.getDate(),2)].join("")+""};
g.Z.valueOf=function(){return this.date.valueOf()};var UIn=new g.Ou("addUpcomingEventReminderEndpoint");var rAd=new g.Ou("removeUpcomingEventReminderEndpoint");var anF=new g.Ou("updateUpcomingEventReminderButtonStateCommand");var ZM5=new g.Ou("upcomingEventReminderButtonRenderer"),t6s=new g.Ou("upcomingEventReminderButtonStateRenderer");g.W(LE,g.Cq);
LE.prototype.updateMenuItems=function(){var a=this,l=pND(this),m=0;m=0;for(var T={};m<l.length;T={q0:void 0},m++){var y=this.Z[m];y||(y=new g.x({U:"div",S:"ytp-reminder-menu-item",G:{role:"menuitem",tabindex:"0"},X:[{U:"div",S:"ytp-reminder-menu-item-icon",Lx:"{{icon}}"},{U:"div",S:"ytp-reminder-menu-item-label",Lx:"{{text}}"}]}),T.q0=m,y.listen("click",function(H){return function(){var b=H.q0;a.KE();b=pND(a)[b];a.publish("reminderMenuItemClicked",b.serviceEndpoint||b.command)}}(T)),y.DK(this.items),
this.Z[m]=y);
var R=l[m];T=null;switch(R.icon&&R.icon.iconType){case "NOTIFICATIONS":T=AAs();break;case "NOTIFICATIONS_NONE":T=PfB();break;case "NOTIFICATIONS_ACTIVE":T=g.Kj()}R=R.text?g.Lj(R.text):"";y.update({icon:T,text:R})}for(;m<this.Z.length;)this.Z.pop().dispose();m===0?this.KE():this.fR(this.T)};
LE.prototype.hide=function(){this.T&&this.T.removeAttribute("aria-haspopup");g.Cq.prototype.hide.call(this)};
LE.prototype.show=function(){this.T&&this.T.setAttribute("aria-haspopup","true");g.Cq.prototype.show.call(this)};
LE.prototype.sL=function(){g.VL(this.Z);g.Cq.prototype.sL.call(this)};g.W(NY,g.x);
NY.prototype.B=function(){if(this.toggleButtonRenderer){var a=this.toggleButtonRenderer;a.isToggled?this.Z(a.toggledServiceEndpoint):this.Z(a.defaultServiceEndpoint);a.isToggled=!a.isToggled;QC(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.T&&this.T.I0)this.T.KE();else{var l=LdV(this);l&&this.Z(l.serviceEndpoint||l.command);l=((a=g.I(l==null?void 0:l.command,g.Lu))==null?void 0:a.commands)||[];a:{a=g.c(l);for(var m=a.next();!m.done;m=a.next()){var T=l=void 0;if(m=(l=g.I(m.value,g.LnF))==
null?void 0:(T=l.popup)==null?void 0:T.menuPopupRenderer){a=m;break a}}a=void 0}this.T||(this.T=new LE(this.D,this.C),this.T.DK(this.element),g.w(this,this.T),this.T.subscribe("reminderMenuItemClicked",this.Z,this));l=this.T;l.menuPopupRenderer=a;l.updateMenuItems()}};
NY.prototype.Z=function(a){var l=g.I(a,UIn),m=g.I(a,rAd);if(a&&(l||m)){if(l){var T=l;var y="notification/add_upcoming_event_reminder"}else m&&(T=m,y="notification/remove_upcoming_event_reminder");if(y&&T&&T.params)for(QLI(this,y,T.params),a=g.c(T.commands||[]),l=a.next();!l.done;l=a.next())if((l=l.value)&&g.I(l,anF)){this.L=g.I(l,anF).state;QC(this);break}}};g.W(e_X,g.x);g.Z=e_X.prototype;g.Z.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.Z.getVideoData=function(){return g.B(this.api.getVideoData(this.getPlayerType()))};
g.Z.k8=function(a){var l,m,T=a==null?void 0:(l=a.liveStreamability)==null?void 0:(m=l.liveStreamabilityRenderer)==null?void 0:m.offlineSlate;if(T){this.L=a;l=T.liveStreamOfflineSlateRenderer;l.canShowCountdown?this.rC():Fdn(this,l);var y,R,H,b;if(m=a==null?void 0:(y=a.liveStreamability)==null?void 0:(R=y.liveStreamabilityRenderer)==null?void 0:(H=R.offlineSlate)==null?void 0:(b=H.liveStreamOfflineSlateRenderer)==null?void 0:b.thumbnail){y=0;R=null;H=m.thumbnails;for(b=0;b<H.length;b++)H[b].width>
y&&(y=H[b].width||0,R=H[b].url);R&&(this.background.style.backgroundImage="url("+R+")")}else this.background.style.backgroundImage="";l.actionButtons||l.reminderButton?(this.T||(this.T=new NY(this.api),this.T.DK(this.OL("ytp-offline-slate-buttons")),g.w(this,this.T)),WdI(this.T,l.actionButtons&&l.actionButtons[0],l.reminderButton)):this.T&&WdI(this.T,null,null);this.L=a}else this.L=null;this.GK()};
g.Z.GK=function(a){if(this.api.getPresentingPlayerType()===8)var l=!0;else{var m=this.api.getPlayerStateObject(),T=this.getVideoData();l=T.isLivePlayback&&(m.isBuffering()||g.u(m,2)||g.u(m,64));var y=T.autonavState===2&&g.u(m,2);m=m.isPlaying()&&!g.On(T)&&!this.api.isAtLiveHead(void 0,!0);l=l&&!m&&!y}l&&this.L?this.I0?(a==null?0:g.Wr(a,2))&&!this.getVideoData().Z$&&(g.dK(this.element,"ytp-offline-slate-collapsed"),this.j.stop(),g.dK(this.Z,"ytp-offline-slate-bar-fade"),this.C.start()):(this.show(),
this.j.start(),this.api.publish("offlineslatestatechange"),this.B&&this.api.lJ()):this.I0&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.Z.rC=function(){var a,l,m,T,y=(a=this.L)==null?void 0:(l=a.liveStreamability)==null?void 0:(m=l.liveStreamabilityRenderer)==null?void 0:(T=m.offlineSlate)==null?void 0:T.liveStreamOfflineSlateRenderer;y&&(a=Math.floor(g.bV()/1E3),l=y.canShowCountdown&&Number(y.scheduledStartTime),!l||l<=a?(Fdn(this,y),this.countdownTimer.stop()):(Fdn(this,y,g.O6(l-a)),g.l0(this.countdownTimer)))};
g.Z.sL=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.x.prototype.sL.call(this)};tx.prototype.L=function(a){return this.trigger&&a.trigger?this.trigger===a.trigger&&this.T===a.T:!1};
tx.prototype.isExpired=function(){return(0,g.E)()-this.Z>6E4};
tx.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.T};g.W($Ir,g.P3);g.Z=$Ir.prototype;g.Z.sL=function(){Om(this);this.player.FJ("heartbeat");g.P3.prototype.sL.call(this)};
g.Z.onCueRangeEnter=function(){this.B=!0;e1(this,2E3)};
g.Z.kO=function(a){this.heartbeatParams=a;e1(this,2E3)};
g.Z.Od=function(a){var l;this.player.getPresentingPlayerType()!==8&&((l=this.T)==null?void 0:l.status)!=="UNPLAYABLE"&&(g.u(a.state,2)||g.u(a.state,64)?(Om(this),this.j&&(this.B=!0,e1(this,1E3))):(g.u(a.state,1)||g.u(a.state,8))&&e1(this,2E3))};
g.Z.i6=function(){this.player.getPresentingPlayerType()!==3&&e1(this,2E3)};
g.Z.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.Z.getVideoData=function(){return g.B(this.player.getVideoData(this.getPlayerType()))};
g.Z.fl=function(a){switch(a){case 4:case 3:return!1}return!0};
g.Z.Sf=function(a,l,m){a={trigger:a,reason:l};m&&(a.serializedServerContext=m.additionalLoggingData);g.js("heartbeatActionPlayerTransitioned",a)};
g.Z.La=function(a){var l="LICENSE",m=BtF(a);if(m)return m.reason||g.JO[l]||"";if(a=a.match(kog))if(a=Number(a[1]))l=(l=Yi5[a.toString()])?l:"LICENSE";return g.JO[l]||""};
g.Z.Qj=function(){return!!this.offlineSlate&&this.offlineSlate.I0};
var kog=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.AO("heartbeat",$Ir);})(_yt_player);
